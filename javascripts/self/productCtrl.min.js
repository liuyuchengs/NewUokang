app.controller("productCtrl",["$scope","Tool","Ajax",function($scope,Tool,Ajax){
	//菜单切换变量
	$scope.hasOrder = false;
	$scope.hasArea = false;
	$scope.hasClass = false;
	$scope.hasBg = false;
	//菜单项变量
	$scope.menuParams = {
		area:false,
		order:false,
		classes:false,
	}
	$scope.orderParams = {
		default:true,
		price:false,
		priceDesc:false,
		scoreDesc:false,
		countDesc:false
	}
	$scope.areaParams = {
		default:true,
		futian:false,
		nanshan:false,
		luohu:false,
		baoan:false,
		longhua:false,
		longgang:false,
		yantian:false,
	}
	$scope.classParams = {
		default:true,
		zzy:false,
		xiya:false,
		kcy:false,
		buya:false,
		baya:false,
		ycmr:false,
		jiaozheng:false,
		yichi:false,
		yzzl:false
	}

	//下拉菜单切换
	$scope.switchMenu =function(menu){
		switch(menu){
			case "area":
				if($scope.hasOrder){
					$scope.hasOrder = false;
					$scope.menuParams.order = false;
				};
				if($scope.hasClass){
					$scope.hasClass = false;
					$scope.menuParams.classes = false;
				};
				$scope.hasArea = !$scope.hasArea;
				if($scope.hasArea){
					$scope.menuParams.area = true;
				}else{
					$scope.menuParams.area = false;
				}
				break;
			case "order":
				if($scope.hasArea){
					$scope.hasArea = false;
					$scope.menuParams.area = false;
				};
				if($scope.hasClass){
					$scope.hasClass = false;
					$scope.menuParams.classes = false;
				};
				$scope.hasOrder = !$scope.hasOrder;
				if($scope.hasOrder){
					$scope.menuParams.order = true;
				}else{
					$scope.menuParams.order = false;
				}
				break;
			case "class":
				if($scope.hasOrder){
					$scope.hasOrder = false;
					$scope.menuParams.order = false;
				};
				if($scope.hasArea){
					$scope.hasArea = false;
					$scope.menuParams.area = false;
				};
				$scope.hasClass = !$scope.hasClass;
				if($scope.hasClass){
					$scope.menuParams.classes = true;
				}else{
					$scope.menuParams.classes = false;
				}
				break;
		}
		if($scope.hasOrder||$scope.hasArea||$scope.hasClass){
			$scope.hasBg = true;
		}else{
			$scope.hasBg = false;
		}
	}

	//区域下拉菜单项点击
	$scope.areaSelect =function(params){
		Tool.select(params,$scope.areaParams);
	}

	//排序下拉菜单项点击
	$scope.orderSelect = function(params){
		Tool.select(params,$scope.orderParams);
	}

	//类别下拉菜单项点击
	$scope.classSelect = function(params){
		Tool.select(params,$scope.classParams);
	}

	//疑问按钮处理函数
	$scope.question = function(){
		Tool.comfirm($scope,"如有疑问，请致电0755-26905699");
	}
}])
