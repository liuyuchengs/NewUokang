{"version":3,"sources":["directive.js"],"names":["define","app","directive","fallbackSrc","link","scope","iElement","iAttrs","bind","angular","element","this","attr","restrict","$scope","imgUrl","userError"],"mappings":"AAAAA,QAAQ,OAAO,SAASC,KAEpBA,IAAIC,UAAU,cAAe,WACzB,GAAIC,cACAC,KAAM,SAAkBC,MAAOC,SAAUC,QACzCD,SAASE,KAAK,QAAS,WACnBC,QAAQC,QAAQC,MAAMC,KAAK,MAAOL,OAAOJ,gBAIjD,OAAOA,eAIXF,IAAIC,UAAU,eAAe,WACzB,OACIW,SAAS,IACTT,KAAK,SAASC,MAAMC,SAASC,QACzBD,SAASE,KAAK,QAAQ,WAClBC,QAAQC,QAAQC,MAAMC,KAAK,MAAM,uCAOjDX,IAAIC,UAAU,cAAc,WACxB,OACIW,SAAS,IACTT,KAAK,SAASC,MAAMC,SAASC,QACzBD,SAASE,KAAK,QAAQ,WAClBC,QAAQC,QAAQC,MAAMC,KAAK,MAAM,sCAOjDX,IAAIC,UAAU,YAAY,WACtB,OACIW,SAAS,IACTT,KAAK,SAASU,OAAOR,SAASC,QAC1BD,SAASE,KAAK,QAAQ,WAClB,GAAIO,QAAS,8BACVR,QAAOS,WACgB,MAAnBT,OAAOS,YACND,OAAS,kCAGjBN,QAAQC,QAAQC,MAAMC,KAAK,MAAMG","file":"directive.js","sourcesContent":["define([\"app\"],function(app){\r\n    // 图片加载失败后，使用设置的图片\r\n    app.directive('fallbackSrc', function () {\r\n        var fallbackSrc = {\r\n            link: function postLink(scope, iElement, iAttrs) {\r\n            iElement.bind('error', function() {\r\n                angular.element(this).attr(\"src\", iAttrs.fallbackSrc);\r\n            });\r\n            }\r\n        }\r\n        return fallbackSrc;\r\n    });\r\n\r\n    // 项目图片加载失败后，使用默认图片\r\n    app.directive(\"productError\",function(){\r\n        return {\r\n            restrict:\"A\",\r\n            link:function(scope,iElement,iAttrs){\r\n                iElement.bind(\"error\",function(){\r\n                    angular.element(this).attr(\"src\",\"../contents/img/p_default.png\");\r\n                })\r\n            }\r\n        }\r\n    })\r\n\r\n    // 医生图片加载失败后，使用默认图片\r\n    app.directive(\"doctorError\",function(){\r\n        return {\r\n            restrict:\"A\",\r\n            link:function(scope,iElement,iAttrs){\r\n                iElement.bind(\"error\",function(){\r\n                    angular.element(this).attr(\"src\",\"../contents/img/doc-head.png\");\r\n                })\r\n            }\r\n        }\r\n    })\r\n\r\n    // 用户头像加载失败后，使用默认图片\r\n    app.directive(\"userError\",function(){\r\n        return {\r\n            restrict:\"A\",\r\n            link:function($scope,iElement,iAttrs){\r\n                iElement.bind(\"error\",function(){\r\n                    var imgUrl = \"../contents/img/men-head.png\";\r\n                    if(iAttrs.userError){\r\n                        if(iAttrs.userError===\"女\"){\r\n                            imgUrl = \"../contents/img/women-head.png\"\r\n                        }\r\n                    }\r\n                    angular.element(this).attr(\"src\",imgUrl);\r\n                })\r\n            }\r\n        }\r\n    })\r\n\r\n})"],"sourceRoot":"/source/"}