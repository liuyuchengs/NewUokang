{"version":3,"sources":["pay.js"],"names":["define","$scope","$rootScope","$location","Tool","Weixin","code","order","init","hasBgColor","noWindowListen","getParams","wxInit","wxConfig","search","getSession","changeRoute","pay","wxPay","id"],"mappings":"AAAAA,OAAO,WACN,MAAO,UAASC,OAAOC,WAAWC,UAAUC,KAAKC,QAChDJ,OAAOK,KAAK,KACZL,OAAOM,MAAQ,KAGfN,OAAOO,KAAO,WACbN,WAAWO,YAAa,EACxBL,KAAKM,iBACLT,OAAOU,YACPN,OAAOO,OAAOX,QACdI,OAAOQ,SAASZ,SAIjBA,OAAOU,UAAY,WACfR,UAAUW,SAASR,OACrBL,OAAOK,KAAOH,UAAUW,SAASR,MAE/BF,KAAKW,WAAW,SAClBd,OAAOM,MAAQH,KAAKW,WAAW,SAE/BX,KAAKY,YAAY,UAKnBf,OAAOgB,IAAM,WACZZ,OAAOa,MAAMjB,OAAOM,MAAMY,GAAGlB,OAAOK","file":"pay.js","sourcesContent":["define(function(){\r\n\treturn function($scope,$rootScope,$location,Tool,Weixin){\r\n\t\t$scope.code=null;\r\n\t\t$scope.order = null;\r\n\r\n\t\t// 初始化页面\r\n\t\t$scope.init = function(){\r\n\t\t\t$rootScope.hasBgColor = false;\r\n\t\t\tTool.noWindowListen();\r\n\t\t\t$scope.getParams();\r\n\t\t\tWeixin.wxInit($scope);\r\n\t\t\tWeixin.wxConfig($scope);\r\n\t\t}\r\n\r\n\t\t// 获取code和订单信息\r\n\t\t$scope.getParams = function(){\r\n\t\t\tif($location.search().code){\r\n\t\t\t\t$scope.code = $location.search().code;\r\n\t\t\t}\r\n\t\t\tif(Tool.getSession(\"order\")){\r\n\t\t\t\t$scope.order = Tool.getSession(\"order\");\r\n\t\t\t}else{\r\n\t\t\t\tTool.changeRoute(\"/home\");\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// 发起请求支付\r\n\t\t$scope.pay = function(){\r\n\t\t\tWeixin.wxPay($scope.order.id,$scope.code);\r\n\t\t}\r\n\t}\r\n})"],"sourceRoot":"/source/"}