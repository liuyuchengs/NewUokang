{"version":3,"sources":["grab.js"],"names":["define","$scope","$rootScope","$window","$location","Tool","Ajax","Weixin","queryParams","dayDate","professionId","city","currentPage","area","grabs","hasBg","noGrab","noProductText","loading","hasDate","hasArea","hasClass","showTip","shareObj","title","desc","link","imgUrl","success","setLocal","switchTip","cancel","menuParams","classes","date","areaParams","default","has","val","futian","nanshan","luohu","baoan","longhua","longgang","yantian","dateParams","classParams","jieya","id","meirong","tuina","window","onscroll","body","document","html","documentElement","height","Math","max","scrollHeight","offsetHeight","clientHeight","innerHeight","scrollY","loadNext","init","hasBgColor","getQueryParams","loadDate","loadData","wxInit","wxConfig","search","item","callback","get","url","host","then","data","i","value","alert","switchMenu","menu","dateSelect","params","select","areaSelect","classSelect","post","length","merge","concat","items","forEach","amount","noamount","btnMess","writeCode","productId","hospitalId","checkLogin","isUserInfoComplete","loadUserinfo","userInfo","giftCode","getLocal","changeRoute","wxShare","comfirm","hasTip","question"],"mappings":"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","file":"grab.js","sourcesContent":["define(function(){\r\n\treturn function($scope,$rootScope,$window,$location,Tool,Ajax,Weixin){\r\n\t\t$scope.queryParams = {\r\n\t\t\tdayDate:\"\",\r\n\t\t\tprofessionId:2,\r\n\t\t\tcity:\"深圳\",\r\n\t\t\tcurrentPage:1,\r\n\t\t\tarea:\"\",\r\n\t\t}\r\n\t\t$scope.grabs=[];\r\n\r\n\t\t//数据加载动画\r\n\t\t$scope.hasBg = false;\r\n\t\t$scope.noGrab = false;\r\n\t\t$scope.noProductText = \"\";\r\n\t\t$scope.loading = false;\r\n\t\t//菜单切换变量\r\n\t\t$scope.hasDate = false;\r\n\t\t$scope.hasArea = false;\r\n\t\t$scope.hasClass = false;\r\n\t\t$scope.hasBg = false;\r\n\t\t//是否显示分享窗口\r\n\t\t$scope.showTip = false;\r\n\t\t$scope.shareObj = {\r\n\t\t\ttitle:\"悠康医生是信息就医平台。\",\r\n\t\t\tdesc:\"用悠康，有健康。悠康医生为您提供各类优惠医疗项目，快来看看吧!\",\r\n\t\t\tlink:\"https://www.uokang.com/v2/htmls/index.html#/home\",\r\n\t\t\timgUrl:\"https://www.uokang.com/new/contents/img/logo.png\",\r\n\t\t\tsuccess:function(){\r\n\t\t\t\tTool.setLocal(\"share\",\"true\");\r\n\t\t\t\t$scope.switchTip(\"close\");\r\n\t\t\t},\r\n\t\t\tcancel:function(){}\r\n\t\t}\r\n\t\t//菜单项变量\r\n\t\t$scope.menuParams = {\r\n\t\t\tarea:false,\r\n\t\t\tclasses:false,\r\n\t\t\tdate:false,\r\n\t\t}\r\n\t\t$scope.areaParams = {\r\n\t\t\tdefault:{has:true,val:\"\"},\r\n\t\t\tfutian:{has:false,val:\"福田区\"},\r\n\t\t\tnanshan:{has:false,val:\"南山区\"},\r\n\t\t\tluohu:{has:false,val:\"罗湖区\"},\r\n\t\t\tbaoan:{has:false,val:\"宝安区\"},\r\n\t\t\tlonghua:{has:false,val:\"龙华新区\"},\r\n\t\t\tlonggang:{has:false,val:\"龙岗区\"},\r\n\t\t\tyantian:{has:false,val:\"盐田区\"},\r\n\t\t}\r\n\t\t$scope.dateParams={};\r\n\t\t$scope.classParams = {\r\n\t\t\tjieya:{has:true,id:2},\r\n\t\t\tmeirong:{has:false,id:3},\r\n\t\t\ttuina:{has:false,id:6},\r\n\t\t}\r\n\r\n\t\t// 滚动监听\r\n\t\twindow.onscroll = function(){\r\n\t\t\tif($scope.loading||$scope.noGrab){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvar body = document.body;\r\n\t\t\tvar html = document.documentElement;\r\n\t\t\tvar height = Math.max( body.scrollHeight, body.offsetHeight,html.clientHeight, html.scrollHeight, html.offsetHeight );\r\n\t\t\tif(height>window.innerHeight){\r\n\t\t\t\tif (height - window.scrollY - window.innerHeight < 100) {\r\n\t\t\t\t\t$scope.loadNext();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// 页面初始化\r\n\t\t$scope.init = function(){\r\n\t\t\t$rootScope.hasBgColor = false;\r\n\t\t\t$scope.getQueryParams();\r\n\t\t\t$scope.loadDate($scope.loadData);\r\n\t\t\tWeixin.wxInit($scope);\r\n\t\t\tWeixin.wxConfig($scope);\r\n\t\t}\r\n\r\n\t\t// 获取url参数\r\n\t\t$scope.getQueryParams = function(){\r\n\t\t\tif($location.search().item){\r\n\t\t\t\tif($location.search().item==\"meirong\"){\r\n\t\t\t\t\t$scope.queryParams.professionId = 3;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// 加载日期时间\r\n\t\t$scope.loadDate = function(callback){\r\n\t\t\tAjax.get({\r\n\t\t\t\turl:Tool.host+\"/wx/gift/querydate\",\r\n\t\t\t}).then(function(data){\r\n\t\t\t\tfor(var i in data){\r\n\t\t\t\t\tvar item = data[i];\r\n\t\t\t\t\tif(i==0){\r\n\t\t\t\t\t\t$scope.dateParams[item.value] = {\r\n\t\t\t\t\t\t\thas:true,val:item.value\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t$scope.queryParams.dayDate = item.value;\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\t$scope.dateParams[item.value]= {\r\n\t\t\t\t\t\t\thas:false,val:item.value\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tcallback();\r\n\t\t\t}).catch(function(){\r\n\t\t\t\tTool.alert(\"时间加载异常，请稍后再试！\");\r\n\t\t\t}).finally(function(){\r\n\t\t\t\t$rootScope.loading =false;\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\t// 切换下拉菜单\r\n\t\t$scope.switchMenu =function(menu){\r\n\t\t\tswitch(menu){\r\n\t\t\t\tcase \"area\":\r\n\t\t\t\t\tif($scope.hasDate){\r\n\t\t\t\t\t\t$scope.hasDate = false;\r\n\t\t\t\t\t\t$scope.menuParams.date = false;\r\n\t\t\t\t\t};\r\n\t\t\t\t\tif($scope.hasClass){\r\n\t\t\t\t\t\t$scope.hasClass = false;\r\n\t\t\t\t\t\t$scope.menuParams.classes = false;\r\n\t\t\t\t\t};\r\n\t\t\t\t\t$scope.hasArea = !$scope.hasArea;\r\n\t\t\t\t\t$scope.noGrab = false;\r\n\t\t\t\t\tif($scope.hasArea){\r\n\t\t\t\t\t\t$scope.menuParams.area = true;\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\t$scope.menuParams.area = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"date\":\r\n\t\t\t\t\tif($scope.hasArea){\r\n\t\t\t\t\t\t$scope.hasArea = false;\r\n\t\t\t\t\t\t$scope.menuParams.area = false;\r\n\t\t\t\t\t};\r\n\t\t\t\t\tif($scope.hasClass){\r\n\t\t\t\t\t\t$scope.hasClass = false;\r\n\t\t\t\t\t\t$scope.menuParams.classes = false;\r\n\t\t\t\t\t};\r\n\t\t\t\t\t$scope.hasDate = !$scope.hasDate;\r\n\t\t\t\t\t$scope.noGrab = false;\r\n\t\t\t\t\tif($scope.hasDate){\r\n\t\t\t\t\t\t$scope.menuParams.date = true;\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\t$scope.menuParams.date = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"class\":\r\n\t\t\t\t\tif($scope.hasDate){\r\n\t\t\t\t\t\t$scope.hasDate = false;\r\n\t\t\t\t\t\t$scope.menuParams.date = false;\r\n\t\t\t\t\t};\r\n\t\t\t\t\tif($scope.hasArea){\r\n\t\t\t\t\t\t$scope.hasArea = false;\r\n\t\t\t\t\t\t$scope.menuParams.area = false;\r\n\t\t\t\t\t};\r\n\t\t\t\t\t$scope.hasClass = !$scope.hasClass;\r\n\t\t\t\t\t$scope.noGrab = false;\r\n\t\t\t\t\tif($scope.hasClass){\r\n\t\t\t\t\t\t$scope.menuParams.classes = true;\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\t$scope.menuParams.classes = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tif($scope.hasDate||$scope.hasArea||$scope.hasClass){\r\n\t\t\t\t$scope.hasBg = true;\r\n\t\t\t}else{\r\n\t\t\t\t$scope.hasBg = false;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// 时间下拉菜单项点击\r\n\t\t$scope.dateSelect = function(params){\r\n\t\t\tTool.select(params,$scope.dateParams);\r\n\t\t\t$scope.queryParams.dayDate = params;\r\n\t\t\t$scope.queryParams.currentPage = 1;\r\n\t\t\t$scope.grabs=[];\r\n\t\t\t$scope.loadData();\r\n\t\t\t$scope.switchMenu(\"date\");\r\n\t\t}\r\n\r\n\t\t// 区域下拉菜单项点击\r\n\t\t$scope.areaSelect =function(params){\r\n\t\t\tTool.select(params,$scope.areaParams);\r\n\t\t\t$scope.queryParams.area = $scope.areaParams[params].val;\r\n\t\t\t$scope.queryParams.currentPage = 1;\r\n\t\t\t$scope.grabs=[];\r\n\t\t\t$scope.loadData();\r\n\t\t\t$scope.switchMenu(\"area\");\r\n\t\t}\r\n\r\n\t\t// 分类下拉菜单项点击\r\n\t\t$scope.classSelect = function(params){\r\n\t\t\tTool.select(params,$scope.classParams);\r\n\t\t\t$scope.queryParams.professionId = $scope.classParams[params].id;\r\n\t\t\t$scope.queryParams.currentPage = 1;\r\n\t\t\t$scope.grabs=[];\r\n\t\t\t$scope.loadData();\r\n\t\t\t$scope.switchMenu(\"class\");\r\n\t\t}\r\n\r\n\t\t// 加载数据\r\n\t\t$scope.loadData = function(){\r\n\t\t\tAjax.post({\r\n\t\t\t\turl:Tool.host+\"/wx/gift/queryproduct\",\r\n\t\t\t\tparams:$scope.queryParams\r\n\t\t\t}).then(function(data){\r\n\t\t\t\tif(data.length<1){\r\n\t\t\t\t\tif($scope.grabs.length<1){\r\n\t\t\t\t\t\t$scope.noProductText = \"没有项目信息,请选择其他区域或者时间!\";\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\t$scope.noProductText = \"已经没有项目了!\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\t$scope.noGrab = true;\r\n\t\t\t\t}else{\r\n\t\t\t\t\t$scope.merge(data);\r\n\t\t\t\t\t$scope.grabs = $scope.grabs.concat(data);\r\n\t\t\t\t}\r\n\t\t\t}).catch(function(){\r\n\t\t\t\tTool.alert(\"数据加载失败，请稍后再试!\");\r\n\t\t\t}).finally(function(){\r\n\t\t\t\t$rootScope.loading = false;\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\t// 加载下一页数据\r\n\t\t$scope.loadNext = function(){\r\n\t\t\t$scope.queryParams.currentPage++;\r\n\t\t\t$scope.loadData();\r\n\t\t}\r\n\r\n\t\t// 处理数据\r\n\t\t$scope.merge = function(items){\r\n\t\t\titems.forEach(function(item){\r\n\t\t\t\tif(item.amount==0|item.amount==null){\r\n\t\t\t\t\titem.noamount = true;\r\n\t\t\t\t\titem.btnMess = \"抢光了\";\r\n\t\t\t\t}else{\r\n\t\t\t\t\titem.noamount = false;\r\n\t\t\t\t\titem.btnMess = \"立即抢\";\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\t// 抢单按钮\r\n\t\t$scope.writeCode = function(noamount,productId,hospitalId){\r\n\t\t\tif(noamount){\r\n\t\t\t\treturn\r\n\t\t\t}else{\r\n\t\t\t\tif(Tool.checkLogin()){\r\n\t\t\t\t\tif(Tool.isUserInfoComplete()){\r\n\t\t\t\t\t\tTool.loadUserinfo();\r\n\t\t\t\t\t\tif(Tool.userInfo.giftCode==null||Tool.userInfo.giftCode==0){\r\n\t\t\t\t\t\t\tTool.alert(\"一个用户只能享受一次免费项目，您已经抢过了!\");\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tif(Tool.getLocal(\"share\")){\r\n\t\t\t\t\t\t\t\tTool.changeRoute(\"/grab/code\",\"productId=\"+productId+\"&hospitalId=\"+hospitalId+\"&dayDate=\"+$scope.queryParams.dayDate);\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\tWeixin.wxShare($scope.shareObj);\r\n\t\t\t\t\t\t\t\t$scope.switchTip(\"open\");\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tTool.comfirm(\"请完善个人信息!\",function(){\r\n\t\t\t\t\t\t\t$rootScope.hasTip = false;\r\n\t\t\t\t\t\t\tTool.changeRoute(\"/user\");\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}else{\r\n\t\t\t\t\tTool.comfirm(\"请先登录并完善个人信息!\",function(){\r\n\t\t\t\t\t\t$rootScope.hasTip = false;\r\n\t\t\t\t\t\tTool.changeRoute(\"/login\");\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// 问题按钮\r\n\t\t$scope.question = function(){\r\n\t\t\tTool.alert(\"每个用户只可享受一次免费抢单，如需帮助请致电：0755-26905699\");\r\n\t\t}\r\n\r\n\t\t// 切换tip窗口\r\n\t\t$scope.switchTip = function(params){\r\n\t\t\tif(params===\"close\"){\r\n\t\t\t\t$scope.showTip = false;\r\n\t\t\t}\r\n\t\t\tif(params===\"open\"){\r\n\t\t\t\t$scope.showTip = true;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n})\r\n"],"sourceRoot":"/source/"}