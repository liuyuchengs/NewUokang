{"version":3,"sources":["grabOrderCtrl.min.js"],"names":["app","controller","$scope","$http","Tool","Ajax","hasGift","gift","init","loadHost","loadUserinfo","queryGift","url","host","get","headers","Content-type","accessToken","userInfo","success","data","code","length","error","alert"],"mappings":"AAAAA,IAAIC,WAAW,iBAAiB,SAAS,QAAQ,OAAO,OAAO,SAASC,EAAOC,EAAMC,EAAKC,GACzFH,EAAOI,SAAU,EACjBJ,EAAOK,QAKPL,EAAOM,KAAO,WACbH,EAAKI,SAAW,WACfL,EAAKM,aAAaR,GAClBA,EAAOS,cAOTT,EAAOS,UAAY,WAClB,GAAIC,GAAMV,EAAOW,KAAK,6BACtBV,GAAMW,IAAIF,GACTG,SACEC,eAAe,kDACfC,YAAcf,EAAOgB,SAASD,eAE9BE,QAAQ,SAASC,GACL,GAAXA,EAAKC,MACJD,EAAKA,KAAKE,OAAO,IACnBpB,EAAOK,KAAOa,EAAKA,KAAK,GACxBlB,EAAOI,SAAU,KAGjBiB,MAAM,WACRnB,EAAKoB,MAAMtB,EAAO","file":"grabOrderCtrl.min.js","sourcesContent":["app.controller(\"grabOrderCtrl\",[\"$scope\",\"$http\",\"Tool\",\"Ajax\",function($scope,$http,Tool,Ajax){\r\n\t$scope.hasGift = false;\r\n\t$scope.gift = {};\r\n\r\n\t/*\r\n\t** 初始化页面\r\n\t*/\r\n\t$scope.init = function(){\r\n\t\tAjax.loadHost = function(){\r\n\t\t\tTool.loadUserinfo($scope);\r\n\t\t\t$scope.queryGift();\r\n\t\t}\r\n\t}\r\n\r\n\t/*\r\n\t** 查询惠赠订单\r\n\t*/\r\n\t$scope.queryGift = function(){\r\n\t\tvar url = $scope.host+\"/wx/order/queryUserGiftCode\";\r\n\t\t$http.get(url,{\r\n\t\t\theaders:{\r\n\t\t\t\t 'Content-type':'application/x-www-form-urlencoded;charset=UTF-8',\r\n\t\t\t\t \"accessToken\":$scope.userInfo.accessToken,\r\n\t\t\t}\r\n\t\t}).success(function(data){\r\n\t\t\tif(data.code==0){\r\n\t\t\t\tif(data.data.length>0){\r\n\t\t\t\t\t$scope.gift = data.data[0];\r\n\t\t\t\t\t$scope.hasGift = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}).error(function(){\r\n\t\t\tTool.alert($scope,\"获取惠赠信息失败，请稍后再试!\");\r\n\t\t})\r\n\t}\r\n}])\r\n"],"sourceRoot":"/source/"}