{"version":3,"sources":["app.js"],"names":["define","angular","wx","loadController","obj","$controllerProvider","$q","deferred","defer","require","url","controller","$inject","inject","register","name","resolve","promise","app","module","run","$rootScope","$location","navMenuParams","home","doctor","interaction","user","hasNav","loading","message","hasCancel","hasComfirm","hasTip","comfirm","cancel","hasBgColor","switchNavMenu","item","index","menuClick","path","$on","changeRoute","query","search","config","$routeProvider","when","templateUrl","askDoctor","userinfo","activity","otherwise","redirectTo","directive","fallbackSrc","link","scope","iElement","iAttrs","bind","element","this","attr","restrict","$scope","imgUrl","userError","containSize","css","slice","children","width","height","zWidth","zHeight","filter","input","sex","undefined","type","service","$http","Tool","get","defered","headers","success","data","error","reject","post","Content-type","params","convertParams","host","userInfo","getLocal","key","JSON","parse","localStorage","getItem","setLocal","value","setItem","stringify","removeLocal","removeItem","clearLocal","clear","getSession","sessionStorage","setSession","removeSession","goUrl","length","location","href","checkLogin","isUserInfoComplete","realname","age","phone","select","proto","has","alert","mess","callback","loadUserinfo","property","noWindowListen","window","onscroll","getQueryString","reg","RegExp","r","substr","match","unescape","Ajax","wxInit","ready","checkJsApi","jsApiList","result","checkResult","getLocation","chooseWXPay","res","locationInfo","latitude","longitude","fail","wxConfig","debug","appId","timestamp","nonceStr","signature","encodeURIComponent","then","wxShare","onMenuShareTimeline","title","onMenuShareAppMessage","desc","dataUrl","onMenuShareQQ","onMenuShareQZone","onMenuShareWeibo","wxCheckPayParams","signType","paySign","wxPay","orderId","code","package","payType","accessToken","timeStamp","sign","defaultParams","default","id","areaParams","val","futian","nanshan","luohu","baoan","longhua","longgang","yantian","yakeParams","all","zzy","xiya","kcy","buya","baya","ycmr","jiaozheng","yichi","yzzl","qita","meirongParams","yanbu","mianbu","bibu","xiong","xizhi","simi","zhushe","jiguang","koucun","fckParams","jiancha","fenmian","zhongyiParams","toubu","jianjing","yaobu","tuibu","quanshen","jingluo","tijianParams","shangye","changgui","zhongnian","laonian","ruzhi","yunqian","qingnian","ertong","manbing","professionalParams","proId","yake","meirong","fck","zhongyi","tijian","Weixin","items","currentPage","noProduct","noProductText","banners","imgStyle","screen","gotoMenu","goPage","init","loadRecommend","queryBanner","initSwiper","city","jsonp","status","address_component","body","document","html","documentElement","Math","max","scrollHeight","offsetHeight","clientHeight","innerHeight","scrollY","loadNext","mergeProdcut","concat","forEach","priceunit","preferPriceType","pricetype","samllimg","Swiper","loop","pagination","autoplay","autoplayDisableOnInteraction","observeParents","observer","onSlideChangeEnd","swiper","activeIndex","stopAutoplay","setTimeout","startAutoplay","detail","productId","hospitalId","Params","hasBg","profValue","profItemValue","doctors","orderParams","score","queryParams","professionId","itemid","orderby","area","pageRows","menuParams","order","professional","loadDoctor","switchMenu","menu","switchObj","selectMenu","ob","resetDate","selectProfression","selectProfressionItem","pro","mergeDoctor","sales","hasInteractionMenu","flag","navParams","kanya","shumei","yunsheng","posts","queryPost","mergePost","visitNum","commentNum","faceImage","list2","splice","switchNav","isLogin","initText","queryFocus","nickname","face","tip","countFocusMan","countFansMan"],"mappings":"AAGAA,QAAQ,UAAU,MAAM,SAASC,QAAQC,IAygBrC,QAASC,gBAAeC,IAAIC,qBACxB,MAAO,UAASC,IACZ,GAAIC,UAAWD,GAAGE,OAMlB,OALAC,UAASL,IAAIM,KAAK,SAASC,YACvBA,WAAWC,QAAUR,IAAIS,OACzBR,oBAAoBS,SAASV,IAAIW,KAAKJ,YACtCJ,SAASS,YAENT,SAASU,SA7gBxB,GAAIC,KAAMjB,QAAQkB,OAAO,SAAS,WA4kDlC,OA3kDAD,KAAIE,KAAK,aAAa,YAAY,SAASC,WAAWC,WAElDD,WAAWE,eACPC,MAAK,EACLC,QAAO,EACPC,aAAY,EACZC,MAAK,GAETN,WAAWO,QAAS,EAEpBP,WAAWQ,SAAU,EAErBR,WAAWS,QAAU,KACrBT,WAAWU,UAAY,KACvBV,WAAWW,WAAa,KACxBX,WAAWY,OAAS,KACpBZ,WAAWa,QAAU,KACrBb,WAAWc,OAAS,KAEpBd,WAAWe,YAAa,EAGxBf,WAAWgB,cAAgB,SAASC,MAChC,IAAI,GAAIC,SAASlB,YAAWE,cACrBgB,QAAQD,KACPjB,WAAWE,cAAce,OAAQ,EAEjCjB,WAAWE,cAAcgB,QAAS,GAM9ClB,WAAWmB,UAAY,SAASF,MAC5BhB,UAAUmB,KAAKH,OAInBjB,WAAWqB,IAAI,oBAAoB,WAC/BrB,WAAWQ,SAAU,EACC,UAAnBP,UAAUmB,QACTpB,WAAWgB,cAAc,QACzBhB,WAAWO,QAAS,GACI,YAAnBN,UAAUmB,QACfpB,WAAWgB,cAAc,UACzBhB,WAAWO,QAAS,GACI,iBAAnBN,UAAUmB,QACfpB,WAAWgB,cAAc,eACzBhB,WAAWO,QAAS,GACI,UAAnBN,UAAUmB,QACfpB,WAAWgB,cAAc,QACzBhB,WAAWO,QAAS,GAEpBP,WAAWO,QAAS,IAK5BP,WAAWqB,IAAI,sBAAsB,WACjCrB,WAAWQ,SAAU,IAIzBR,WAAWsB,YAAc,SAASF,KAAKG,OACnCtB,UAAUmB,KAAKA,MACZG,MACCtB,UAAUuB,OAAOD,OAEjBtB,UAAUuB,OAAO,QAU7B3B,IAAI4B,QAAQ,iBAAiB,sBAAsB,SAASC,eAAe1C,qBACvE0C,eAAeC,KAAK,SAChBC,YAAY,YACZtC,WAAW,aAQZqC,KAAK,WACJC,YAAY,cACZtC,WAAW,eAQZqC,KAAK,qBACJC,YAAY,iBACZtC,WAAW,gBACXK,SACIkC,UAAU/C,gBACNO,IAAI,8CACJK,KAAK,gBACLF,QAAQ,SAAS,aAAa,YAAY,QAAQ,OAAO,SAC3DR,wBAEP2C,KAAK,kBACJC,YAAY,oBACZtC,WAAW,mBACXK,SACIkC,UAAU/C,gBACNO,IAAI,iDACJK,KAAK,mBACLF,QAAQ,SAAS,aAAa,YAAY,gBAAgB,OAAO,SACnER,wBAEP2C,KAAK,gBACJC,YAAY,mBACZtC,WAAW,oBAQZqC,KAAK,uBACJC,YAAY,yBACZtC,WAAW,wBACXK,SACIU,YAAavB,gBACTO,IAAI,sDACJK,KAAK,wBACLF,QAAQ,SAAS,aAAa,YAAY,OAAO,SACnDR,wBAEP2C,KAAK,SACJC,YAAY,YACZtC,WAAW,aAQZqC,KAAK,kBACJC,YAAY,gBACZtC,WAAW,eACXK,SACImC,SAAShD,gBACLO,IAAI,6CACJK,KAAK,eACLF,QAAQ,SAAS,aAAa,OAAO,SACvCR,wBAEP2C,KAAK,cACJC,YAAY,YACZtC,WAAW,WACXK,SACIkC,UAAU/C,gBACNO,IAAI,yCACJK,KAAK,WACLF,QAAQ,SAAS,aAAa,OAAO,SACvCR,wBAEP2C,KAAK,mBACJC,YAAY,kBACZtC,WAAW,WACXK,SACIkC,UAAU/C,gBACNO,IAAI,yCACJK,KAAK,WACLF,QAAQ,SAAS,aAAa,OAAO,SACvCR,wBAEP2C,KAAK,kBACJC,YAAY,gBACZtC,WAAW,eACXK,SACIkC,UAAU/C,gBACNO,IAAI,6CACJK,KAAK,eACLF,QAAQ,SAAS,aAAa,OAAO,SACvCR,wBAEP2C,KAAK,wBACJC,YAAY,sBACZtC,WAAW,qBACXK,SACIkC,UAAU/C,gBACNO,IAAI,mDACJK,KAAK,qBACLF,QAAQ,SAAS,aAAa,YAAY,WAAW,QAAQ,OAAO,SACtER,wBAEP2C,KAAK,eACJC,YAAY,aACZtC,WAAW,gBACXK,SACIkC,UAAU/C,gBACNO,IAAI,0CACJK,KAAK,gBACLF,QAAQ,SAAS,aAAa,YAAY,OAAO,SACnDR,wBAEP2C,KAAK,aACJC,YAAY,gBACZtC,WAAW,eACXK,SACIoC,SAASjD,gBACLO,IAAI,6CACJK,KAAK,eACLF,QAAQ,SAAS,aAAa,YAAY,OAAO,SACnDR,wBAEP2C,KAAK,mBACJC,YAAY,qBACZtC,WAAW,oBACXK,SACIkC,UAAU/C,gBACNO,IAAI,kDACJK,KAAK,oBACLF,QAAQ,SAAS,aAAa,YAAY,QAAQ,OAAO,SAC3DR,wBAEP2C,KAAK,YACJC,YAAY,eACZtC,WAAW,cACXK,SACIkC,UAAU/C,gBACNO,IAAI,4CACJK,KAAK,cACLF,QAAQ,SAAS,aAAa,YAAY,OAAO,SACnDR,wBAEP2C,KAAK,gBACJC,YAAY,kBACZtC,WAAW,iBACXK,SACIkC,UAAU/C,gBACNO,IAAI,+CACJK,KAAK,iBACLF,QAAQ,SAAS,aAAa,YAAY,OAAO,SACnDR,wBAEP2C,KAAK,aACJC,YAAY,gBACZtC,WAAW,eACXK,SACIkC,UAAU/C,gBACNO,IAAI,6CACJK,KAAK,eACLF,QAAQ,SAAS,aAAa,OAAO,SACvCR,wBAEP2C,KAAK,kBACJC,YAAY,oBACZtC,WAAW,eACXK,SACIkC,UAAU/C,gBACNO,IAAI,6CACJK,KAAK,eACLF,QAAQ,SAAS,aAAa,YAAY,YAAY,OAAO,SAC/DR,wBAEP2C,KAAK,iBACJC,YAAY,mBACZtC,WAAW,eACXK,SACIkC,UAAU/C,gBACNO,IAAI,6CACJK,KAAK,eACLF,QAAQ,SAAS,aAAa,YAAY,YAAY,OAAO,SAC/DR,wBAEP2C,KAAK,gBACJC,YAAY,kBACZtC,WAAW,eACXK,SACIkC,UAAU/C,gBACNO,IAAI,6CACJK,KAAK,eACLF,QAAQ,SAAS,aAAa,YAAY,YAAY,OAAO,SAC/DR,wBAEP2C,KAAK,SACJC,YAAY,YACZtC,WAAW,WACXK,SACIkC,UAAU/C,gBACNO,IAAI,yCACJK,KAAK,WACLF,QAAQ,SAAS,aAAa,UAAU,YAAY,OAAO,OAAO,WACpER,wBAEP2C,KAAK,cACJC,YAAY,gBACZtC,WAAW,eACXK,SACIkC,UAAU/C,gBACNO,IAAI,6CACJK,KAAK,eACLF,QAAQ,SAAS,aAAa,YAAY,OAAO,SACnDR,wBAEP2C,KAAK,eACJC,YAAY,iBACZtC,WAAW,gBACXK,SACIkC,UAAU/C,gBACNO,IAAI,8CACJK,KAAK,gBACLF,QAAQ,SAAS,aAAa,OAAO,SACvCR,wBAEP2C,KAAK,UACJC,YAAY,aACZtC,WAAW,YACXK,SACIkC,UAAU/C,gBACNO,IAAI,0CACJK,KAAK,YACLF,QAAQ,SAAS,aAAa,YAAY,OAAO,SACnDR,wBAEP2C,KAAK,cACJC,YAAY,iBACZtC,WAAW,gBACXK,SACIkC,UAAU/C,gBACNO,IAAI,8CACJK,KAAK,gBACLF,QAAQ,SAAS,aAAa,OAAO,SACvCR,wBAEP2C,KAAK,SACJC,YAAY,YACZtC,WAAW,WACXK,SACIkC,UAAU/C,gBACNO,IAAI,yCACJK,KAAK,WACLF,QAAQ,SAAS,aAAa,YAAY,OAAO,SACnDR,wBAEP2C,KAAK,gBACJC,YAAY,kBACZtC,WAAW,WACXK,SACIkC,UAAU/C,gBACNO,IAAI,yCACJK,KAAK,WACLF,QAAQ,SAAS,aAAa,YAAY,OAAO,SACnDR,wBAEP2C,KAAK,UACJC,YAAY,aACZtC,WAAW,YACXK,SACIkC,UAAU/C,gBACNO,IAAI,0CACJK,KAAK,YACLF,QAAQ,SAAS,aAAa,YAAY,OAAO,SACnDR,wBAEP2C,KAAK,QACJC,YAAY,WACZtC,WAAW,UACXK,SACIkC,UAAU/C,gBACNO,IAAI,wCACJK,KAAK,UACLF,QAAQ,SAAS,aAAa,YAAY,OAAO,WACnDR,wBAEP2C,KAAK,eACJC,YAAY,iBACZtC,WAAW,gBACXK,SACIkC,UAAU/C,gBACNO,IAAI,8CACJK,KAAK,gBACLF,QAAQ,SAAS,aAAa,YAAY,SAC5CR,wBAEP2C,KAAK,aACJC,YAAY,gBACZtC,WAAW,eACXK,SACIkC,UAAU/C,gBACNO,IAAI,6CACJK,KAAK,eACLF,QAAQ,SAAS,aAAa,YAAY,YAAY,OAAO,SAC/DR,wBAEP2C,KAAK,cACJC,YAAY,mBACbD,KAAK,UACJC,YAAY,aACZtC,WAAW,YACXK,SACIkC,UAAU/C,gBACNO,IAAI,0CACJK,KAAK,YACLF,QAAQ,SAAS,aAAa,QAAQ,OAAO,SAC/CR,wBAEP2C,KAAK,cACJC,YAAY,gBACZtC,WAAW,YACXK,SACIkC,UAAU/C,gBACNO,IAAI,0CACJK,KAAK,YACLF,QAAQ,SAAS,aAAa,QAAQ,OAAO,SAC/CR,wBAEP2C,KAAK,eACJC,YAAY,iBACZtC,WAAW,YACXK,SACIkC,UAAU/C,gBACNO,IAAI,0CACJK,KAAK,YACLF,QAAQ,SAAS,aAAa,QAAQ,OAAO,SAC/CR,wBAEP2C,KAAK,gBACJC,YAAY,cACZtC,WAAW,aACXK,SACIkC,UAAU/C,gBACNO,IAAI,2CACJK,KAAK,aACLF,QAAQ,SAAS,aAAa,YAAY,OAAO,SACnDR,wBAEP2C,KAAK,mBACJC,YAAY,iBACZtC,WAAW,gBACXK,SACIkC,UAAU/C,gBACNO,IAAI,8CACJK,KAAK,gBACLF,QAAQ,SAAS,aAAa,YAAY,OAAO,SACnDR,wBAEP2C,KAAK,kBACJC,YAAY,gBACZtC,WAAW,eACXK,SACIkC,UAAU/C,gBACNO,IAAI,6CACJK,KAAK,eACLF,QAAQ,SAAS,aAAa,YAAY,OAAO,SACnDR,wBAEP2C,KAAK,SACJC,YAAY,YACZtC,WAAW,WACXK,SACIkC,UAAU/C,gBACNO,IAAI,yCACJK,KAAK,WACLF,QAAQ,SAAS,aAAa,YAAY,OAAO,SACnDR,wBAEP2C,KAAK,eACJC,YAAY,iBACZtC,WAAW,aACXK,SACIkC,UAAU/C,gBACNO,IAAI,2CACJK,KAAK,aACLF,QAAQ,SAAS,aAAa,YAAY,OAAO,OAAO,WAC1DR,wBAEP2C,KAAK,oBACJC,YAAY,sBACZtC,WAAW,aACXK,SACIkC,UAAU/C,gBACNO,IAAI,2CACJK,KAAK,aACLF,QAAQ,SAAS,aAAa,YAAY,OAAO,OAAO,WAC1DR,wBAEP2C,KAAK,iBACJC,YAAY,mBACZtC,WAAW,kBACXK,SACIkC,UAAU/C,gBACNO,IAAI,gDACJK,KAAK,kBACLF,QAAQ,SAAS,aAAa,OAAO,SACvCR,wBAEP2C,KAAK,kBACJC,YAAY,gBACZtC,WAAW,eACXK,SACIkC,UAAU/C,gBACNO,IAAI,6CACJK,KAAK,eACLF,QAAQ,SAAS,aAAa,OAAO,SACvCR,wBAGTgD,WAAWC,WAAW,aAqB3BpC,IAAIqC,UAAU,cAAe,WACzB,GAAIC,cACAC,KAAM,SAAkBC,MAAOC,SAAUC,QACzCD,SAASE,KAAK,QAAS,WACnB5D,QAAQ6D,QAAQC,MAAMC,KAAK,MAAOJ,OAAOJ,gBAIjD,OAAOA,eAIXtC,IAAIqC,UAAU,eAAe,WACzB,OACIU,SAAS,IACTR,KAAK,SAASC,MAAMC,SAASC,QACzBD,SAASE,KAAK,QAAQ,WAClB5D,QAAQ6D,QAAQC,MAAMC,KAAK,MAAM,uCAOjD9C,IAAIqC,UAAU,cAAc,WACxB,OACIU,SAAS,IACTR,KAAK,SAASC,MAAMC,SAASC,QACzBD,SAASE,KAAK,QAAQ,WAClB5D,QAAQ6D,QAAQC,MAAMC,KAAK,MAAM,sCAOjD9C,IAAIqC,UAAU,YAAY,WACtB,OACIU,SAAS,IACTR,KAAK,SAASS,OAAOP,SAASC,QAC1BD,SAASE,KAAK,QAAQ,WAClB,GAAIM,QAAS,8BACVP,QAAOQ,WACgB,MAAnBR,OAAOQ,YACND,OAAS,kCAGjBlE,QAAQ6D,QAAQC,MAAMC,KAAK,MAAMG,cAOjDjD,IAAIqC,UAAU,YAAY,WACtB,OACIU,SAAS,IACTR,KAAK,SAASS,OAAOP,SAASC,QAC1B,GAAIS,aAAcV,SAASW,IAAI,SAASC,MAAM,KAC9CZ,UAASW,IAAI,SAASD,YACtB,IAAIG,UAAWb,SAASa,UACxBA,UAASX,KAAK,OAAO,WACjB,GAAIY,OAAQD,SAASF,IAAI,SAASC,MAAM,MACpCG,OAASF,SAASF,IAAI,UAAUC,MAAM,KAC1C,IAAGE,MAAMC,OAAO,CACZ,GAAIC,QAAUN,YAAYK,OAAQD,MAC9BG,QAAUP,WACdG,UAASF,IAAI,eAAeK,OAAON,aAAa,OAC/C,CACD,GAAIO,SAAWP,YAAYI,MAAOC,OAC9BC,OAASN,WACbG,UAASF,IAAI,cAAcM,QAAQP,aAAa,GAEpDG,SAASF,IAAI,QAAQK,QACrBH,SAASF,IAAI,SAASM,eAWtC1D,IAAI2D,OAAO,iBAAiB,WACxB,MAAO,UAASC,MAAMC,KAQlB,MAPW,QAARD,OAAsB,KAARA,QAETA,MADK,MAANC,KAAiB,OAANA,KAAkB,KAANA,KAAgBC,SAAND,IACxB,+BAEA,kCAGTD,SAKf5D,IAAI2D,OAAO,aAAa,WACpB,MAAO,UAASC,MAAMG,MASlB,MARU,OAAPH,OAAoB,IAAPA,QACF,QAAPG,OACCH,MAAQ,gCAEF,QAAPG,OACCH,MAAQ,kCAGTA,SASf5D,IAAIgE,QAAQ,QAAQ,aAAa,QAAQ,KAAK,OAAO,SAAS7D,WAAW8D,MAAM7E,GAAG8E,MAE9ErB,KAAKsB,IAAM,SAAUjF,KACb,GAAIA,IAAIM,IAAK,CACTW,WAAWQ,SAAU,CACrB,IAAIyD,SAAUhF,GAAGE,OAQjB,OAPA2E,OAAME,IAAIjF,IAAIM,KACV6E,QAAQnF,IAAImF,UACbC,QAAQ,SAAUC,MACjB,MAAOH,SAAQtE,QAAQyE,QACxBC,MAAM,SAAUD,MACf,MAAOH,SAAQK,OAAOF,QAEnBH,QAAQrE,UAG3B8C,KAAK6B,KAAO,SAAUxF,KAClB,GAAIA,IAAIM,IAAK,CACT,GAAI4E,SAAUhF,GAAGE,OAoBjB,OAnBGJ,KAAImF,QACCnF,IAAImF,QAAQ,kBACZnF,IAAImF,QAAQ,gBAAkB,mDAGlCnF,IAAImF,SACAM,eAAgB,mDAGxBxE,WAAWQ,SAAU,EAErBzB,IAAI0F,OAASV,KAAKW,cAAc3F,IAAI0F,QACpCX,MAAMS,KAAKxF,IAAIM,IAAKN,IAAI0F,QACpBP,QAASnF,IAAImF,UACdC,QAAQ,SAAUC,MACjBH,QAAQtE,QAAQyE,QACjBC,MAAM,SAAUD,MACfH,QAAQK,OAAOF,QAEZH,QAAQrE,aAM3BC,IAAIgE,QAAQ,QAAQ,aAAa,YAAY,SAAS7D,WAAWC,WAK7DyC,KAAKiC,KAAO,yBACZjC,KAAKkC,YAKLlC,KAAKmC,SAAW,SAASC,KACrB,MAAOC,MAAKC,MAAMC,aAAaC,QAAQJ,OAE3CpC,KAAKyC,SAAW,SAASL,IAAIM,OACzBH,aAAaI,QAAQP,IAAIC,KAAKO,UAAUF,SAE5C1C,KAAK6C,YAAc,SAAST,KACxBG,aAAaO,WAAWV,MAE5BpC,KAAK+C,WAAa,WACdR,aAAaS,SAEjBhD,KAAKiD,WAAa,SAASb,KACvB,MAAOC,MAAKC,MAAMY,eAAeV,QAAQJ,OAE7CpC,KAAKmD,WAAa,SAASf,IAAIM,OAC3BQ,eAAeP,QAAQP,IAAIC,KAAKO,UAAUF,SAE9C1C,KAAKoD,cAAgB,SAAShB,KAC1Bc,eAAeJ,WAAWV,MAG9BpC,KAAKqD,MAAQ,SAAS1G,KACfA,IAAI2G,OAAO,IACVC,SAASC,KAAO7G,MAKxBqD,KAAKpB,YAAc,SAASF,KAAKI,QAC7BvB,UAAUmB,KAAKA,MACZI,OACCvB,UAAUuB,OAAOA,QAEjBvB,UAAUuB,OAAO,KAKzBkB,KAAKyD,WAAa,WACd,QAAGzD,KAAKmC,SAAS,SAQrBnC,KAAK0D,mBAAqB,WACtB,GAAIxB,UAAWlC,KAAKmC,SAAS,OAC7B,OAAsB,IAAnBD,SAASyB,UAAiC,MAAnBzB,SAASyB,UAA8B,IAAdzB,SAASlB,KAAuB,MAAdkB,SAASlB,KAAyB,IAAdkB,SAAS0B,KAAuB,MAAd1B,SAAS0B,KAA2B,IAAhB1B,SAAS2B,OAA2B,MAAhB3B,SAAS2B,OAMhK7D,KAAK8D,OAAS,SAAS/B,OAAO1F,KAC1B,IAAI,GAAI0H,SAAS1H,KACV0H,OAAOhC,OACF1F,IAAI0F,QAAQiC,MACZ3H,IAAI0F,QAAQiC,KAAM,GAGnB3H,IAAI0H,OAAOC,MACV3H,IAAI0H,OAAOC,KAAM,IAOjChE,KAAKiE,MAAQ,SAASC,KAAKC,UACvB7G,WAAWS,QAAUmG,KACrB5G,WAAWU,WAAY,EACvBV,WAAWW,YAAa,EACxBX,WAAWY,QAAS,EACjBiG,SACC7G,WAAWa,QAAUgG,SAErB7G,WAAWa,QAAU,WACjBb,WAAWY,QAAS,IAMhC8B,KAAK7B,QAAU,SAAS+F,KAAKC,UACzB7G,WAAWS,QAAUmG,KACrB5G,WAAWU,WAAY,EACvBV,WAAWW,YAAa,EACxBX,WAAWY,QAAS,EACpBZ,WAAWc,OAAS,WAChBd,WAAWY,QAAS,GAExBZ,WAAWa,QAAUgG,UAIzBnE,KAAKoE,aAAe,WAChBpE,KAAKkC,SAAWlC,KAAKmC,SAAS,SAIlCnC,KAAKgC,cAAgB,SAAS3F,KAC1B,GAAI0F,QAAS,EACb,KAAI,GAAIsC,YAAYhI,KACE,MAAfA,IAAIgI,YACHtC,QAAUsC,SAAS,IAAIhI,IAAIgI,UAAU,IAK7C,OADAtC,QAASA,OAAOvB,MAAM,EAAEuB,OAAOuB,OAAO,IAK1CtD,KAAKsE,eAAiB,WAClBC,OAAOC,SAAW,MAGtBxE,KAAKyE,eAAiB,SAASzH,MAC3B,GAAI0H,KAAM,GAAIC,QAAO,QAAU3H,KAAO,gBAAiB,KACnD4H,EAAIL,OAAOhB,SAASzE,OAAO+F,OAAO,GAAGC,MAAMJ,IAC/C,OAAS,OAALE,EACOG,SAASH,EAAE,IAEf,SAKfzH,IAAIgE,QAAQ,UAAU,aAAa,OAAO,OAAO,SAAS7D,WAAW0H,KAAK3D,MAEtErB,KAAKiF,OAAS,SAAS9E,OAAOgE,UAE1BhI,GAAG+I,MAAM,WACL/I,GAAGgJ,YAECC,WAAY,cAAc,cAAc,sBAAsB,wBAAwB,gBAAgB,mBAAmB,oBACzH3D,QAAS,SAAS4D,QAEVA,OAAOC,YAAYC,aAAcF,OAAOC,YAAYE,aACpDnE,KAAK4C,MAAM,wBAIpBE,UACChI,GAAGoJ,aACCrE,KAAK,QACLO,QAAQ,SAASgE,KACb,GAAIC,eACAC,SAASF,IAAIE,SACbC,UAAUH,IAAIG,UAElBvE,MAAK8B,WAAW,eAAeuC,cAC/BvB,SAASuB,aAAaC,SAASD,aAAaE,YAEhDC,KAAK,WACD1F,OAAOuF,aAAe,aAQ1C1F,KAAK8F,SAAW,SAASnG,OACrB,GAAIoC,SACAgE,OAAM,EACNC,MAAQ,GACRC,UAAY,GACZC,SAAW,GACXC,UAAY,GACZf,WAAa,cAAc,cAAc,sBAAsB,wBAAwB,gBAAgB,mBAAmB,oBAE9HJ,MAAKnD,MACDlF,IAAI0E,KAAKY,KAAK,4BACdF,QAASpF,IAAIyJ,mBAAmB7C,SAASC,SAC1C6C,KAAK,SAAS3E,MACbK,OAAOiE,MAAQtE,KAAKsE,MACpBjE,OAAOkE,UAAYvE,KAAKuE,UACxBlE,OAAOmE,SAAWxE,KAAKwE,SACvBnE,OAAOoE,UAAYzE,KAAKyE,UACxBhK,GAAG4C,OAAOgD,UARdiD,SASS,WACL3D,KAAK4C,MAAM,sBAVfe,WAWW,WACP1H,WAAWQ,SAAS,KAK5BkC,KAAKsG,QAAU,SAASjK,KAIpBF,GAAGoK,qBACCC,MAAOnK,IAAImK,MACX9G,KAAMrD,IAAIqD,KACVU,OAAQ/D,IAAI+D,OACZqB,QAASpF,IAAIoF,QACbrD,OAAQ/B,IAAI+B,SAEhBjC,GAAGsK,uBACCD,MAAOnK,IAAImK,MACXE,KAAMrK,IAAIqK,KACVhH,KAAMrD,IAAIqD,KACVU,OAAQ/D,IAAI+D,OACZc,KAAM7E,IAAI6E,KACVyF,QAAStK,IAAIsK,QACblF,QAAQpF,IAAIoF,QACZrD,OAAQ/B,IAAI+B,SAEhBjC,GAAGyK,eACCJ,MAAOnK,IAAImK,MACXE,KAAMrK,IAAIqK,KACVhH,KAAMrD,IAAIqD,KACVU,OAAQ/D,IAAI+D,OACZqB,QAAQpF,IAAIoF,QACZrD,OAAO/B,IAAI+B,SAEfjC,GAAG0K,kBACCL,MAAOnK,IAAImK,MACXE,KAAMrK,IAAIqK,KACVhH,KAAMrD,IAAIqD,KACVU,OAAQ/D,IAAI+D,OACZqB,QAASpF,IAAIoF,QACbrD,OAAO/B,IAAI+B,SAEfjC,GAAG2K,kBACCN,MAAOnK,IAAImK,MACXE,KAAMrK,IAAIqK,KACVhH,KAAMrD,IAAIqD,KACVU,OAAQ/D,IAAI+D,OACZqB,QAASpF,IAAIoF,QACbrD,OAAQ/B,IAAI+B,UAKpB4B,KAAK+G,iBAAmB,SAAShF,QAC7B,MAAqB,IAAlBA,OAAOkE,WAAiC,MAAlBlE,OAAOkE,WAAkC,IAAjBlE,OAAOmE,UAA+B,MAAjBnE,OAAOmE,UAAgC,IAAhBnE,OAAAA,YAAoC,MAAhBA,OAAAA,YAAuC,IAAjBA,OAAOiF,UAA+B,MAAjBjF,OAAOiF,UAAgC,IAAhBjF,OAAOkF,SAA6B,MAAhBlF,OAAOkF,SAQlNjH,KAAKkH,MAAQ,SAASC,QAAQC,MAC1B,GAAIrF,SACAkE,UAAW,GACXC,SAAU,GACVmB,UAAS,GACTL,SAAU,GACVC,QAAS,GACTxF,QAAQ,WACJ8C,OAAOhB,SAASC,KAAO,4EAE3BpF,OAAO,WACHmG,OAAOhB,SAASC,KAAO,yEAE3BqC,KAAK,WACDtB,OAAOhB,SAASC,KAAO,yEAG/B,IAAY,IAAT2D,QAAqB,MAATA,QAAc,CACzB,GAAIxK,KAAM0E,KAAKY,KAAK,mBAChBF,QAAUuF,QAAQ,QAAQH,QAAQA,QAAQC,KAAOA,KACrDpC,MAAKnD,MACDlF,IAAIA,IACJoF,OAAOA,OACPP,SACI+F,YAAclG,KAAKc,SAAS,QAAQoF,eAEzClB,KAAK,SAAS3E,MACbK,OAAOkE,UAAYvE,KAAKA,KAAK8F,UAC7BzF,OAAOmE,SAAWxE,KAAKA,KAAKwE,SAC5BnE,OAAAA,WAAiBL,KAAKA,KAALA,WACjBK,OAAOiF,SAAW,MAClBjF,OAAOkF,QAAUvF,KAAKA,KAAK+F,KACN,IAAlB1F,OAAOkE,WAAiC,MAAlBlE,OAAOkE,WAAkC,IAAjBlE,OAAOmE,UAA+B,MAAjBnE,OAAOmE,UAAgC,IAAhBnE,OAAAA,YAAoC,MAAhBA,OAAAA,YAAuC,IAAjBA,OAAOiF,UAA+B,MAAjBjF,OAAOiF,UAAgC,IAAhBjF,OAAOkF,SAA6B,MAAhBlF,OAAOkF,QAC1M5F,KAAK4C,MAAM,mBAEX9H,GAAGqJ,YAAYzD,UAfvBiD,SAiBS,WACL3D,KAAK4C,MAAM,qBAlBfe,WAmBW,WACP1H,WAAWQ,SAAU,SAOrCX,IAAIgE,QAAQ,SAAS,WACjBnB,KAAK0H,eACDC,WAAS3D,KAAI,EAAK4D,GAAG,KAEzB5H,KAAK6H,YACDF,WAAS3D,KAAI,EAAK8D,IAAI,IACtBC,QAAQ/D,KAAI,EAAM8D,IAAI,OACtBE,SAAShE,KAAI,EAAM8D,IAAI,OACvBG,OAAOjE,KAAI,EAAM8D,IAAI,OACrBI,OAAOlE,KAAI,EAAM8D,IAAI,OACrBK,SAASnE,KAAI,EAAM8D,IAAI,QACvBM,UAAUpE,KAAI,EAAM8D,IAAI,OACxBO,SAASrE,KAAI,EAAM8D,IAAI,QAE3B9H,KAAKsI,YACDC,KAAKvE,KAAI,EAAK4D,GAAG,IACjBY,KAAKxE,KAAI,EAAM4D,GAAG,IAClBa,MAAMzE,KAAI,EAAM4D,GAAG,IACnBc,KAAK1E,KAAI,EAAM4D,GAAG,IAClBe,MAAM3E,KAAI,EAAM4D,GAAG,IACnBgB,MAAM5E,KAAI,EAAM4D,GAAG,IACnBiB,MAAM7E,KAAI,EAAM4D,GAAG,IACnBkB,WAAW9E,KAAI,EAAM4D,GAAG,IACxBmB,OAAO/E,KAAI,EAAM4D,GAAG,IACpBoB,MAAMhF,KAAI,EAAM4D,GAAG,IACnBqB,MAAMjF,KAAI,EAAM4D,GAAG,KAEvB5H,KAAKkJ,eACDX,KAAKvE,KAAI,EAAK4D,GAAG,IACjBuB,OAAOnF,KAAI,EAAM4D,GAAG,GACpBwB,QAAQpF,KAAI,EAAM4D,GAAG,GACrByB,MAAMrF,KAAI,EAAM4D,GAAG,GACnB0B,OAAOtF,KAAI,EAAM4D,GAAG,IACpB2B,OAAOvF,KAAI,EAAM4D,GAAG,IACpB4B,MAAMxF,KAAI,EAAM4D,GAAG,IACnB6B,QAAQzF,KAAI,EAAM4D,GAAG,IACrB8B,SAAS1F,KAAI,EAAM4D,GAAG,IACtB+B,QAAQ3F,KAAI,EAAM4D,GAAG,IACrBqB,MAAMjF,KAAI,EAAM4D,GAAG,KAEvB5H,KAAK4J,WACDrB,KAAKvE,KAAI,EAAK4D,GAAG,IACjBiC,SAAS7F,KAAI,EAAM4D,GAAG,IACtBkC,SAAS9F,KAAI,EAAM4D,GAAG,KAE1B5H,KAAK+J,eACDxB,KAAKvE,KAAI,EAAK4D,GAAG,IACjBoC,OAAOhG,KAAI,EAAM4D,GAAG,IACpBqC,UAAUjG,KAAI,EAAM4D,GAAG,IACvBsC,OAAOlG,KAAI,EAAM4D,GAAG,IACpBuC,OAAOnG,KAAI,EAAM4D,GAAG,IACpBwC,UAAUpG,KAAI,EAAM4D,GAAG,IACvByC,SAASrG,KAAI,EAAM4D,GAAG,IACtBqB,MAAMjF,KAAI,EAAM4D,GAAG,KAEvB5H,KAAKsK,cACD3C,WAAS3D,KAAI,EAAK8D,IAAI,IACtByC,SAASvG,KAAI,EAAM8D,IAAI,IACvB0C,UAAUxG,KAAI,EAAM8D,IAAI,IACxB2C,WAAWzG,KAAI,EAAM8D,IAAI,IACzB4C,SAAS1G,KAAI,EAAM8D,IAAI,IACvB6C,OAAO3G,KAAI,EAAM8D,IAAI,IACrB8C,SAAS5G,KAAI,EAAM8D,IAAI,IACvB+C,UAAU7G,KAAI,EAAM8D,IAAI,IACxBgD,QAAQ9G,KAAI,EAAM8D,IAAI,IACtBiD,SAAS/G,KAAI,EAAM8D,IAAI,KAE3B9H,KAAKgL,oBACDrD,WAAS3D,KAAI,EAAK8D,IAAI9H,KAAK0H,cAAcuD,MAAM,IAC/CC,MAAMlH,KAAI,EAAM8D,IAAI9H,KAAKsI,WAAW2C,MAAM,KAC1CE,SAASnH,KAAI,EAAM8D,IAAI9H,KAAKkJ,cAAc+B,MAAM,KAChDG,KAAKpH,KAAI,EAAM8D,IAAI9H,KAAK4J,UAAUqB,MAAM,KACxCI,SAASrH,KAAI,EAAM8D,IAAI9H,KAAK+J,cAAckB,MAAM,KAChDK,QAAQtH,KAAI,EAAM8D,IAAI9H,KAAKsK,aAAaW,MAAM,QAOtD9N,IAAIP,WAAW,YAAY,SAAS,aAAa,QAAQ,OAAO,OAAO,SAAS,SAASuD,OAAO7C,WAAW8D,MAAMC,KAAK2D,KAAKuG,QAC7HpL,OAAOqL,SACPrL,OAAOsL,YAAc,EACrBtL,OAAOuL,WAAY,EACnBvL,OAAOwL,cAAgB,GACvBxL,OAAOyL,WAEPzL,OAAOuF,aAAc,MACrBvF,OAAO0L,UACNnL,MAAQoL,OAAOpL,OAEhBP,OAAO4L,SAAW,SAASrN,MAC1B2C,KAAK2K,OAAOtN,OAIbyB,OAAO8L,KAAO,WACb3O,WAAWe,YAAa,EACxB8B,OAAO+L,gBACP/L,OAAOgM,cACPhM,OAAOiM,aACJ/K,KAAK4B,WAAW,gBAClB9C,OAAOuF,aAAerE,KAAK4B,WAAW,gBAAgBoJ,MAEtDd,OAAOtG,OAAO9E,OAAOA,OAAOoF,aAC5BgG,OAAOzF,SAAS3F,UAKlBA,OAAOoF,YAAc,SAASI,SAASC,WACtC,GAAIjJ,KAAM,wFAAwFgJ,SAAS,IAAIC,UAAU,QAAQzF,OAAOiC,GACxIhB,OAAMkL,MAAM3P,KAAK8E,QAAQ,SAASC,MACjC,GAAgB,GAAbA,KAAK6K,OAAU,CACjBpM,OAAOuF,aAAehE,KAAK2D,OAAOmH,kBAAkBH,IACpD,IAAI3G,cAAerE,KAAK4B,WAAW,eACnCyC,cAAa2G,KAAO3K,KAAK2D,OAAOmH,kBAAkBH,KAClDhL,KAAK8B,WAAW,eAAeuC,kBAE/BvF,QAAOuF,aAAe,SAErB/D,MAAM,WACRxB,OAAOuF,aAAe,UAKxBnB,OAAOC,SAAW,WACjB,IAAGrE,OAAOrC,UAASqC,OAAOuL,UAA1B,CAGA,GAAIe,MAAOC,SAASD,KAChBE,KAAOD,SAASE,gBAChBjM,OAASkM,KAAKC,IAAKL,KAAKM,aAAcN,KAAKO,aAAaL,KAAKM,aAAcN,KAAKI,aAAcJ,KAAKK,aACpGrM,QAAO4D,OAAO2I,aACZvM,OAAS4D,OAAO4I,QAAU5I,OAAO2I,YAAc,KAClD/M,OAAOiN,aAMVjN,OAAO+L,cAAgB,WACb5O,WAAWQ,SAAU,CAC9B,IAAInB,KAAM0E,KAAKY,KAAK,6BAChBF,OAAS,uBAAuB5B,OAAOsL,WAC3CrK,OAAMS,KAAKlF,IAAIoF,QACdP,SACCM,eAAe,qDAEdL,QAAQ,SAASC,MACL,GAAXA,KAAK0F,OACJ1F,KAAKA,KAAK4B,OAAO,GAChBnD,OAAOqL,MAAMlI,OAAO,EACtBnD,OAAOwL,cAAgB,WAEvBxL,OAAOwL,cAAgB,WAExBxL,OAAOuL,WAAY,IAEnBvL,OAAOkN,aAAa3L,KAAKA,MACzBvB,OAAOqL,MAAQrL,OAAOqL,MAAM8B,OAAO5L,KAAKA,QAG9BpE,WAAWQ,SAAU,IAC/B6D,MAAM,WACRN,KAAK4C,MAAM,qBACX9D,OAAOuL,WAAY,EACPpO,WAAWQ,SAAU,KAKnCqC,OAAOkN,aAAe,SAAS7B,OAC9BA,MAAM+B,QAAQ,SAAShP,MACH,MAAhBA,KAAKiP,WAAiC,IAAhBjP,KAAKiP,UAC7BjP,KAAKkP,gBAAkBlP,KAAKmP,UAAU,IAAInP,KAAKiP,UAE/CjP,KAAKkP,gBAAkBlP,KAAKmP,UAEX,IAAfnP,KAAKoP,UAA6B,MAAfpP,KAAKoP,WAC1BpP,KAAKoP,SAAW,oCAMnBxN,OAAOgM,YAAc,WACX7O,WAAWQ,SAAU,CAC9B,IAAInB,KAAM0E,KAAKY,KAAK,mBAChBF,OAAS,kBACbX,OAAMS,KAAKlF,IAAIoF,QACdP,SACCM,eAAe,qDAEdL,QAAQ,SAASC,MACL,GAAXA,KAAK0F,OACPjH,OAAOyL,QAAUlK,KAAKA,MAEXpE,WAAWQ,SAAU,IAC/B6D,MAAM,WACIrE,WAAWQ,SAAU,EACjCuD,KAAK4C,MAAM,sBAKb9D,OAAOiM,WAAa,WAEJ,GAAIwB,QAAO,qBACzBC,MAAK,EACLC,WAAY,qBACZC,SAAU,IACVC,8BAA6B,EAC7BC,gBAAe,EACfC,UAAS,EAETC,iBAAkB,SAASC,QACH,GAApBA,OAAOC,aAAoC,GAApBD,OAAOC,aAChCD,OAAOE,eACPC,WAAW,WACa,GAApBH,OAAOC,aAAoC,GAApBD,OAAOC,aAChCD,OAAOI,iBAEP,MAEFJ,OAAOI,oBAQXrO,OAAOsO,OAAS,SAASC,UAAUC,WAAWzN,MACnC,IAAPA,KACFG,KAAKzC,YAAY,eAAe,aAAa8P,UAAU,eAAeC,YAEtEtN,KAAKzC,YAAY,kBAAkB,oBAAoB8P,UAAU,eAAeC,aAMlFxO,OAAOd,SAAW,SAASuI,IACT,IAALA,IACXvG,KAAKzC,YAAY,YAAY,UAEtB,IAALgJ,IACFvG,KAAKzC,YAAY,eAEV,IAALgJ,IACFvG,KAAKzC,YAAY,YAAY,WAK/BuB,OAAOiN,SAAW,WACjBjN,OAAOsL,cACPtL,OAAO+L,oBAIN/O,IAAIP,WAAW,cAAc,SAAS,aAAa,QAAQ,OAAO,OAAO,SAAS,SAASuD,OAAO7C,WAAW8D,MAAMC,KAAK2D,KAAK4J,QACzHzO,OAAO0O,OAAQ,EACf1O,OAAO2O,UAAY,UACnB3O,OAAO4O,cAAgB,UACvB5O,OAAO6O,WACP7O,OAAOuL,WAAY,EACnBvL,OAAOwL,cAAgB,GAEvBxL,OAAO8O,aACHtH,WAAS3D,KAAI,EAAK8D,IAAI,IACtBtB,OAAOxC,KAAI,EAAM8D,IAAI,yBACrBoH,OAAOlL,KAAI,EAAM8D,IAAI,eAEzB3H,OAAO0H,WAAa+G,OAAO/G,WAC3B1H,OAAO6K,mBAAqB4D,OAAO5D,mBAGnC7K,OAAOgP,aACHC,aAAa,GACbC,OAAO,GACPC,QAAQ,GACRjD,KAAK,KACLkD,KAAK,GACLC,SAAS,GACT/D,YAAY,GAIhBtL,OAAOsP,YACHF,MAAMvL,KAAI,EAAM8D,IAAI3H,OAAO0H,YAC3B6H,OAAO1L,KAAI,EAAM8D,IAAI3H,OAAO8O,aAC5BU,cAAc3L,KAAI,EAAM8D,IAAI3H,OAAO6K,qBAIvC7K,OAAO8L,KAAO,WACV3O,WAAWe,YAAa,EACxB8B,OAAOyP,cAIXrL,OAAOC,SAAW,WACd,IAAGlH,WAAWQ,UAASqC,OAAOuL,UAA9B,CAGA,GAAIe,MAAOC,SAASD,KAChBE,KAAOD,SAASE,gBAChBjM,OAASkM,KAAKC,IAAKL,KAAKM,aAAcN,KAAKO,aAAaL,KAAKM,aAAcN,KAAKI,aAAcJ,KAAKK,aACpGrM,QAAO4D,OAAO2I,aACTvM,OAAS4D,OAAO4I,QAAU5I,OAAO2I,YAAc,KAC/C/M,OAAOiN,aAMnBjN,OAAO0P,WAAa,SAASC,MACzB3P,OAAO4P,UAAUD,KAAK3P,OAAOsP,YAAW,IAI5CtP,OAAO6P,WAAa,SAASzR,KAAKlC,KAC9B,GAAI4T,IAAK9P,OAAOsP,WAAWpT,KAAKyL,GAChC3H,QAAO4P,UAAUxR,KAAK0R,IACd,QAAL5T,MACC8D,OAAOgP,YAAYI,KAAOU,GAAG1R,MAAMuJ,KAE/B,SAALzL,MACC8D,OAAOgP,YAAYG,QAAUW,GAAG1R,MAAMuJ,KAE1C3H,OAAO0P,WAAWxT,KAClB8D,OAAO+P,YACP/P,OAAOyP,cAIXzP,OAAOgQ,kBAAoB,SAAS5R,MAChC4B,OAAO4P,UAAUxR,KAAK4B,OAAO6K,qBAIjC7K,OAAOiQ,sBAAwB,SAAS7R,KAAK8R,KACtC9R,MAAM4B,OAAO4O,gBACS,IAAlB5O,OAAO2O,WAAqC,IAAtB3O,OAAO4O,cAC5B5O,OAAO6K,mBAAmBqF,KAAKvI,IAAIvJ,MAAMyF,KAAM,GAE/C7D,OAAO6K,mBAAmB7K,OAAO2O,WAAWhH,IAAI3H,OAAO4O,eAAe/K,KAAM,EAC5E7D,OAAO6K,mBAAmBqF,KAAKvI,IAAIvJ,MAAMyF,KAAM,GAEnD7D,OAAO4O,cAAgBxQ,KACvB4B,OAAO2O,UAAYuB,IACnBlQ,OAAOgP,YAAYC,aAAejP,OAAO6K,mBAAmBqF,KAAKpF,MACjE9K,OAAOgP,YAAYE,OAASlP,OAAO6K,mBAAmBqF,KAAKvI,IAAIvJ,MAAMqJ,GACrEzH,OAAO0P,WAAW,gBAClB1P,OAAO+P,YACP/P,OAAOyP,eAMfzP,OAAO4P,UAAY,SAASxR,KAAKlC,IAAIwS,OACjC,IAAI,GAAIwB,OAAOhU,KACRgU,KAAK9R,MACJlC,IAAIgU,KAAKrM,KAAO3H,IAAIgU,KAAKrM,IACtB6K,QACC1O,OAAO0O,MAAQxS,IAAIgU,KAAKrM,MAG5B3H,IAAIgU,KAAKrM,KAAM,GAM3B7D,OAAOyP,WAAa,WAChB5K,KAAKnD,MACDlF,IAAI0E,KAAKY,KAAK,4CACdF,OAAO5B,OAAOgP,cACf9I,KAAK,SAAS3E,MACVA,KAAKA,KAAK4B,OAAO,GACbnD,OAAO6O,QAAQ1L,OAAO,EACrBnD,OAAOwL,cAAgB,sBAEvBxL,OAAOwL,cAAgB,WAE3BxL,OAAOuL,WAAY,IAEnBvL,OAAOmQ,YAAY5O,KAAKA,MACxBvB,OAAO6O,QAAU7O,OAAO6O,QAAQ1B,OAAO5L,KAAKA,SAbpDsD,SAeS,WACL7E,OAAOuL,WAAY,EACnBrK,KAAK4C,MAAM,mBAjBfe,WAkBW,WACP1H,WAAWQ,SAAS,KAK5BqC,OAAOmQ,YAAc,SAAS9E,OAC1BA,MAAM+B,QAAQ,SAAShP,MACJ,IAAZA,KAAK2Q,OAAuB,MAAZ3Q,KAAK2Q,QACpB3Q,KAAK2Q,MAAM,OAEA,IAAZ3Q,KAAKgS,OAAuB,MAAZhS,KAAKgS,QACpBhS,KAAKgS,MAAM,MAMvBpQ,OAAOiN,SAAW,WACdjN,OAAOgP,YAAY1D,cACnBtL,OAAOyP,cAIXzP,OAAO+P,UAAY,WACf/P,OAAOgP,YAAY1D,YAAc,EACjCtL,OAAOuL,WAAY,EACnBvL,OAAOwL,cAAgB,GACvBxL,OAAO6O,YAIX7O,OAAOsO,OAAS,SAAS7G,IACrBvG,KAAKzC,YAAY,iBAAiB,MAAMgJ,QAIhDzK,IAAIP,WAAW,mBAAmB,SAAS,aAAa,QAAQ,OAAO,OAAO,SAASuD,OAAO7C,WAAW8D,MAAMC,KAAK2D,MAChH7E,OAAOwL,cAAgB,GACvBxL,OAAOuL,WAAY,EACnBvL,OAAOqQ,oBAAqB,EAC5BrQ,OAAOgP,aACHsB,KAAK,EACLjB,SAAS,GACT/D,YAAY,GAEhBtL,OAAOuQ,WACHC,OAAO3M,KAAI,EAAK8D,IAAI,GACpB8I,QAAQ5M,KAAI,EAAM8D,IAAI,GACtB+I,UAAU7M,KAAI,EAAM8D,IAAI,IAE5B3H,OAAO2Q,SAGP3Q,OAAO8L,KAAO,WACV3O,WAAWe,YAAa,EACxB8B,OAAO4Q,aAIX5Q,OAAO4Q,UAAY,WACf/L,KAAKnD,MACDlF,IAAI0E,KAAKY,KAAK,oBACdF,OAAO5B,OAAOgP,cACf9I,KAAK,SAAS3E,MACVA,KAAKA,KAAK4B,OAAO,GACbnD,OAAO2Q,MAAMxN,OAAO,EACnBnD,OAAOwL,cAAgB,UAEvBxL,OAAOwL,cAAgB,WAE3BxL,OAAOuL,WAAY,IAEnBvL,OAAO6Q,UAAUtP,KAAKA,MACtBvB,OAAO2Q,MAAQ3Q,OAAO2Q,MAAMxD,OAAO5L,KAAKA,SAbhDsD,SAeS,WACL3D,KAAK4C,MAAM,eAhBfe,WAiBW,WACP1H,WAAWQ,SAAU,KAK7BqC,OAAO6Q,UAAY,SAASxF,OACxBA,MAAM+B,QAAQ,SAAShP,MACD,MAAfA,KAAK0S,UAA+B,IAAf1S,KAAK0S,WACzB1S,KAAK0S,SAAS,GAEE,IAAjB1S,KAAK2S,YAAiC,MAAjB3S,KAAK2S,aACzB3S,KAAK2S,WAAa,GAEF,OAAjB3S,KAAK4S,UAAkC,KAAjB5S,KAAK4S,YAC1B5S,KAAK4S,UAAY,0BAA0B5S,KAAK4S,UAEpD,KAAI,GAAI3S,SAASD,MAAK6S,MACI,IAAnB7S,KAAK6S,MAAM5S,QAA+B,MAAnBD,KAAK6S,MAAM5S,QACjCD,KAAK6S,MAAMC,OAAO7S,MAAM,MAOxC2B,OAAOiN,SAAW,WACdjN,OAAOgP,YAAY1D,cACnBtL,OAAO4Q,aAIXxM,OAAOC,SAAW,WACd,IAAGlH,WAAWQ,UAASqC,OAAOuL,UAA9B,CAGA,GAAIe,MAAOC,SAASD,KAChBE,KAAOD,SAASE,gBAChBjM,OAASkM,KAAKC,IAAKL,KAAKM,aAAcN,KAAKO,aAAaL,KAAKM,aAAcN,KAAKI,aAAcJ,KAAKK,aACpGrM,QAAO4D,OAAO2I,aACTvM,OAAS4D,OAAO4I,QAAU5I,OAAO2I,YAAc,KAC/C/M,OAAOiN,aAMnBjN,OAAOmR,UAAY,SAAS/S,MACxB4B,OAAOgP,YAAYsB,KAAOtQ,OAAOuQ,UAAUnS,MAAMuJ,IACjDzG,KAAKyC,OAAOvF,KAAK4B,OAAOuQ,WACxBvQ,OAAOgP,YAAY1D,YAAc,EACjCtL,OAAOuL,WAAY,EACnBvL,OAAOwL,cAAgB,GACvBxL,OAAO2Q,SACP3Q,OAAO4Q,aAIX5Q,OAAOsO,OAAS,SAAS7G,IACrBvG,KAAKzC,YAAY,sBAAsB,MAAMgJ,QAKrDzK,IAAIP,WAAW,YAAY,SAAS,aAAa,YAAY,OAAO,OAAO,SAASuD,OAAO7C,WAAWC,UAAU8D,KAAK2D,MACjH7E,OAAOvC,QACPuC,OAAOoR,SAAU,EAGjBpR,OAAO8L,KAAO,WACV3O,WAAWe,YAAa,EACxBgD,KAAKiD,iBACLnE,OAAOqR,WACJnQ,KAAKoC,eACJpC,KAAK+C,eACLjE,OAAOsR,eAKftR,OAAOqR,SAAW,WACXnQ,KAAKoC,cACJpC,KAAK+C,eACLjE,OAAOvC,KAAOyD,KAAKa,SACnB/B,OAAOoR,SAAU,EACS,KAAvBpR,OAAOvC,KAAK8T,UAAsC,OAAvBvR,OAAOvC,KAAK8T,WACtCvR,OAAOvC,KAAK8T,SAAW,cAG3BvR,OAAOvC,KAAK+T,KAAO,+BACnBxR,OAAOvC,KAAKgU,IAAM,WAK1BzR,OAAO8D,MAAQ,SAASC,MACpB7C,KAAK4C,MAAMC,OAIf/D,OAAOsR,WAAa,WAChBzM,KAAKnD,MACDlF,IAAI0E,KAAKY,KAAK,0BACdF,QAASwF,YAAclG,KAAKa,SAASqF,eACtClB,KAAK,SAAS3E,MACE,GAAXA,KAAK0F,OACwB,OAA1B1F,KAAKA,KAAKmQ,eAAgD,KAA1BnQ,KAAKA,KAAKmQ,gBACzCnQ,KAAKA,KAAKmQ,cAAgB,GAEF,OAAzBnQ,KAAKA,KAAKoQ,cAA+C,KAA1BpQ,KAAKA,KAAKoQ,eACxCpQ,KAAKA,KAAKoQ,aAAc,GAE5B3R,OAAO0R,cAAgBnQ,KAAKA,KAAKmQ,cACjC1R,OAAO2R,aAAepQ,KAAKA,KAAKoQ;GAZxC9M,SAcS,WACL7E,OAAO0R,cAAgB,EACvB1R,OAAO2R,aAAe,EACtBzQ,KAAK4C,MAAM,eAjBfe,WAkBW,WACnB1H,WAAWQ,SAAU,KAKjBqC,OAAAA,QAAc,SAASzB,KAAKG,OACrBwC,KAAKoC,aACJpC,KAAKzC,YAAYF,KAAKG,OAEtBwC,KAAKzC,YAAY,SAAS,QAK/BzB","file":"app.js","sourcesContent":["/**\r\n * myApp模块,所有服务打包在一起，减少http请求\r\n */\r\ndefine([\"angular\",\"wx\"],function(angular,wx){\r\n    /**\r\n     * 定义模块和$rootScope\r\n     */\r\n    var app = angular.module(\"myApp\",[\"ngRoute\"]);\r\n    app.run([\"$rootScope\",\"$location\",function($rootScope,$location){\r\n        //导航栏样式参数\r\n        $rootScope.navMenuParams = {\r\n            home:false,\r\n            doctor:false,\r\n            interaction:false,\r\n            user:false,\r\n        }\r\n        $rootScope.hasNav = false;\r\n        //加载框参数\r\n        $rootScope.loading = false;\r\n        //提示框参数\r\n        $rootScope.message = null;\r\n        $rootScope.hasCancel = null;\r\n        $rootScope.hasComfirm = null;\r\n        $rootScope.hasTip = null;\r\n        $rootScope.comfirm = null;\r\n        $rootScope.cancel = null;\r\n        //body背景色\r\n        $rootScope.hasBgColor = false;\r\n\r\n        //获取url决定导航栏样式\r\n        $rootScope.switchNavMenu = function(item){\r\n            for(var index in $rootScope.navMenuParams){\r\n                if(index===item){\r\n                    $rootScope.navMenuParams[item] = true;\r\n                }else{\r\n                    $rootScope.navMenuParams[index] = false;\r\n                }\r\n            }\r\n        }\r\n\r\n        //导航栏菜单处理事件\r\n        $rootScope.menuClick = function(item){\r\n            $location.path(item);  \r\n        }\r\n\r\n        //路由改变时触发\r\n        $rootScope.$on(\"$routeChangeStart\",function(){\r\n            $rootScope.loading = true;\r\n            if($location.path()===\"/home\"){\r\n                $rootScope.switchNavMenu(\"home\");\r\n                $rootScope.hasNav = true;\r\n            }else if($location.path()===\"/doctor\"){\r\n                $rootScope.switchNavMenu(\"doctor\");\r\n                $rootScope.hasNav = true;\r\n            }else if($location.path()===\"/interaction\"){\r\n                $rootScope.switchNavMenu(\"interaction\");\r\n                $rootScope.hasNav = true;\r\n            }else if($location.path()===\"/user\"){\r\n                $rootScope.switchNavMenu(\"user\");\r\n                $rootScope.hasNav = true;\r\n            }else{\r\n                $rootScope.hasNav = false;\r\n            }\r\n        })\r\n\r\n        //路由改变完成后触发\r\n        $rootScope.$on(\"$routeChangeSuccess\",function(){\r\n            $rootScope.loading = false;\r\n        })\r\n\r\n        //后台按钮处理时间\r\n        $rootScope.changeRoute = function(path,query){\r\n            $location.path(path);\r\n            if(query){\r\n                $location.search(query);\r\n            }else{\r\n                $location.search(\"\");\r\n            }\r\n        }\r\n    }])\r\n\r\n    /**\r\n     * 路由部分\r\n     */\r\n\r\n    //配置路由\r\n    app.config([\"$routeProvider\",\"$controllerProvider\",function($routeProvider,$controllerProvider){\r\n        $routeProvider.when(\"/home\",{\r\n            templateUrl:\"home.html\",\r\n            controller:\"homeCtrl\",\r\n            /*resolve:{\r\n                home: loadController({\r\n                    url:\"../javascripts/dest/controller/home.js\",\r\n                    name:\"homeCtrl\",\r\n                    inject:[\"$scope\",\"$rootScope\",\"$http\",\"Tool\",\"Ajax\",\"Weixin\"],   \r\n                },$controllerProvider)\r\n            }*/\r\n        }).when(\"/doctor\",{\r\n            templateUrl:\"doctor.html\",\r\n            controller:\"doctorCtrl\",\r\n            /*resolve:{\r\n                doctor: loadController({\r\n                    url:\"../javascripts/dest/controller/doctor.js\",\r\n                    name:\"doctorCtrl\",\r\n                    inject:[\"$scope\",\"$rootScope\",\"$http\",\"Tool\",\"Ajax\",\"Params\"],   \r\n                },$controllerProvider)\r\n            }*/\r\n        }).when(\"/doctor/askDoctor\",{\r\n            templateUrl:\"askdoctor.html\",\r\n            controller:\"askDoctorCtrl\",\r\n            resolve:{\r\n                askDoctor:loadController({\r\n                    url:\"../javascripts/dest/controller/askDoctor.js\",\r\n                    name:\"askDoctorCtrl\",\r\n                    inject:[\"$scope\",\"$rootScope\",\"$location\",\"$http\",\"Tool\",\"Ajax\"],\r\n                },$controllerProvider)\r\n            }\r\n        }).when(\"/doctor/detail\",{\r\n            templateUrl:\"doctordetail.html\",\r\n            controller:\"doctorDetailCtrl\",\r\n            resolve:{\r\n                askDoctor:loadController({\r\n                    url:\"../javascripts/dest/controller/doctorDetail.js\",\r\n                    name:\"doctorDetailCtrl\",\r\n                    inject:[\"$scope\",\"$rootScope\",\"$location\",\"$anchorScroll\",\"Ajax\",\"Tool\"],\r\n                },$controllerProvider)\r\n            }\r\n        }).when(\"/interaction\",{\r\n            templateUrl:\"interaction.html\",\r\n            controller:\"interactionCtrl\",\r\n            /*resolve:{\r\n                interaction: loadController({\r\n                    url:\"../javascripts/dest/controller/interaction.js\",\r\n                    name:\"interactionCtrl\",\r\n                    inject:[\"$scope\",\"$rootScope\",\"$http\",\"Tool\",\"Ajax\"],   \r\n                },$controllerProvider)\r\n            }*/\r\n        }).when(\"/interaction/detail\",{\r\n            templateUrl:\"interactiondetail.html\",\r\n            controller:\"interactionDetailCtrl\",\r\n            resolve:{\r\n                interaction: loadController({\r\n                    url:\"../javascripts/dest/controller/interactionDetail.js\",\r\n                    name:\"interactionDetailCtrl\",\r\n                    inject:[\"$scope\",\"$rootScope\",\"$location\",\"Tool\",\"Ajax\"],   \r\n                },$controllerProvider)\r\n            }\r\n        }).when(\"/user\",{\r\n            templateUrl:\"user.html\",\r\n            controller:\"userCtrl\",\r\n            /*resolve:{\r\n                interaction: loadController({\r\n                    url:\"../javascripts/dest/controller/user.js\",\r\n                    name:\"userCtrl\",\r\n                    inject:[\"$scope\",\"$rootScope\",\"$location\",\"Tool\",\"Ajax\"],   \r\n                },$controllerProvider)\r\n            }*/\r\n        }).when(\"/user/userinfo\",{\r\n            templateUrl:\"userinfo.html\",\r\n            controller:\"userInfoCtrl\",\r\n            resolve:{\r\n                userinfo:loadController({\r\n                    url:\"../javascripts/dest/controller/userinfo.js\",\r\n                    name:\"userInfoCtrl\",\r\n                    inject:[\"$scope\",\"$rootScope\",\"Tool\",\"Ajax\"],   \r\n                },$controllerProvider)\r\n            }\r\n        }).when(\"/user/cush\",{\r\n            templateUrl:\"cush.html\",\r\n            controller:\"cushCtrl\",\r\n            resolve:{\r\n                askDoctor:loadController({\r\n                    url:\"../javascripts/dest/controller/cush.js\",\r\n                    name:\"cushCtrl\",\r\n                    inject:[\"$scope\",\"$rootScope\",\"Tool\",\"Ajax\"],\r\n                },$controllerProvider)\r\n            }\r\n        }).when(\"/user/cush/read\",{\r\n            templateUrl:\"cushreadme.html\",\r\n            controller:\"cushCtrl\",\r\n            resolve:{\r\n                askDoctor:loadController({\r\n                    url:\"../javascripts/dest/controller/cush.js\",\r\n                    name:\"cushCtrl\",\r\n                    inject:[\"$scope\",\"$rootScope\",\"Tool\",\"Ajax\"],\r\n                },$controllerProvider)\r\n            }\r\n        }).when(\"/user/cushover\",{\r\n            templateUrl:\"cushover.html\",\r\n            controller:\"cushOverCtrl\",\r\n            resolve:{\r\n                askDoctor:loadController({\r\n                    url:\"../javascripts/dest/controller/cushOver.js\",\r\n                    name:\"cushOverCtrl\",\r\n                    inject:[\"$scope\",\"$rootScope\",\"Tool\",\"Ajax\"],\r\n                },$controllerProvider)\r\n            }\r\n        }).when(\"/user/userinfochange\",{\r\n            templateUrl:\"userinfochange.html\",\r\n            controller:\"userInfoChangeCtrl\",\r\n            resolve:{\r\n                askDoctor:loadController({\r\n                    url:\"../javascripts/dest/controller/userInfoChange.js\",\r\n                    name:\"userInfoChangeCtrl\",\r\n                    inject:[\"$scope\",\"$rootScope\",\"$location\",\"$timeout\",\"$http\",\"Ajax\",\"Tool\"],\r\n                },$controllerProvider)\r\n            }\r\n        }).when(\"/user/order\",{\r\n            templateUrl:\"order.html\",\r\n            controller:\"userOrderCtrl\",\r\n            resolve:{\r\n                askDoctor:loadController({\r\n                    url:\"../javascripts/dest/controller/order.js\",\r\n                    name:\"userOrderCtrl\",\r\n                    inject:[\"$scope\",\"$rootScope\",\"$location\",\"Ajax\",\"Tool\"],\r\n                },$controllerProvider)\r\n            }\r\n        }).when(\"/activity\",{\r\n            templateUrl:\"activity.html\",\r\n            controller:\"activityCtrl\",\r\n            resolve:{\r\n                activity:loadController({\r\n                    url:\"../javascripts/dest/controller/activity.js\",\r\n                    name:\"activityCtrl\",\r\n                    inject:[\"$scope\",\"$rootScope\",\"$location\",\"Tool\",\"Ajax\"],   \r\n                },$controllerProvider)\r\n            }\r\n        }).when(\"/product/detail\",{\r\n            templateUrl:\"productdetail.html\",\r\n            controller:\"productDetailCtrl\",\r\n            resolve:{\r\n                askDoctor:loadController({\r\n                    url:\"../javascripts/dest/controller/productDetail.js\",\r\n                    name:\"productDetailCtrl\",\r\n                    inject:[\"$scope\",\"$rootScope\",\"$location\",\"$http\",\"Tool\",\"Ajax\"],\r\n                },$controllerProvider)\r\n            }\r\n        }).when(\"/product\",{\r\n            templateUrl:\"product.html\",\r\n            controller:\"productCtrl\",\r\n            resolve:{\r\n                askDoctor:loadController({\r\n                    url:\"../javascripts/dest/controller/product.js\",\r\n                    name:\"productCtrl\",\r\n                    inject:[\"$scope\",\"$rootScope\",\"$location\",\"Tool\",\"Ajax\"],\r\n                },$controllerProvider)\r\n            }\r\n        }).when(\"/exam/detail\",{\r\n            templateUrl:\"examdetail.html\",\r\n            controller:\"examDetailCtrl\",\r\n            resolve:{\r\n                askDoctor:loadController({\r\n                    url:\"../javascripts/dest/controller/examDetail.js\",\r\n                    name:\"examDetailCtrl\",\r\n                    inject:[\"$scope\",\"$rootScope\",\"$location\",\"Tool\",\"Ajax\"],\r\n                },$controllerProvider)\r\n            }\r\n        }).when(\"/discount\",{\r\n            templateUrl:\"discount.html\",\r\n            controller:\"discountCtrl\",\r\n            resolve:{\r\n                askDoctor:loadController({\r\n                    url:\"../javascripts/dest/controller/discount.js\",\r\n                    name:\"discountCtrl\",\r\n                    inject:[\"$scope\",\"$rootScope\",\"Tool\",\"Ajax\"],\r\n                },$controllerProvider)\r\n            }\r\n        }).when(\"/findpwd/phone\",{\r\n            templateUrl:\"findpwdphone.html\",\r\n            controller:\"findPassCtrl\",\r\n            resolve:{\r\n                askDoctor:loadController({\r\n                    url:\"../javascripts/dest/controller/findPass.js\",\r\n                    name:\"findPassCtrl\",\r\n                    inject:[\"$scope\",\"$rootScope\",\"$location\",\"$interval\",\"Tool\",\"Ajax\"],\r\n                },$controllerProvider)\r\n            }\r\n        }).when(\"/findpwd/code\",{\r\n            templateUrl:\"findpwdcode.html\",\r\n            controller:\"findPassCtrl\",\r\n            resolve:{\r\n                askDoctor:loadController({\r\n                    url:\"../javascripts/dest/controller/findPass.js\",\r\n                    name:\"findPassCtrl\",\r\n                    inject:[\"$scope\",\"$rootScope\",\"$location\",\"$interval\",\"Tool\",\"Ajax\"],\r\n                },$controllerProvider)\r\n            }\r\n        }).when(\"/findpwd/pwd\",{\r\n            templateUrl:\"findpwdpwd.html\",\r\n            controller:\"findPassCtrl\",\r\n            resolve:{\r\n                askDoctor:loadController({\r\n                    url:\"../javascripts/dest/controller/findPass.js\",\r\n                    name:\"findPassCtrl\",\r\n                    inject:[\"$scope\",\"$rootScope\",\"$location\",\"$interval\",\"Tool\",\"Ajax\"],\r\n                },$controllerProvider)\r\n            }\r\n        }).when(\"/grab\",{\r\n            templateUrl:\"grab.html\",\r\n            controller:\"grabCtrl\",\r\n            resolve:{\r\n                askDoctor:loadController({\r\n                    url:\"../javascripts/dest/controller/grab.js\",\r\n                    name:\"grabCtrl\",\r\n                    inject:[\"$scope\",\"$rootScope\",\"$window\",\"$location\",\"Tool\",\"Ajax\",\"Weixin\"],\r\n                },$controllerProvider)\r\n            }\r\n        }).when(\"/grab/code\",{\r\n            templateUrl:\"grabcode.html\",\r\n            controller:\"grabCodeCtrl\",\r\n            resolve:{\r\n                askDoctor:loadController({\r\n                    url:\"../javascripts/dest/controller/grabCode.js\",\r\n                    name:\"grabCodeCtrl\",\r\n                    inject:[\"$scope\",\"$rootScope\",\"$location\",\"Tool\",\"Ajax\"],\r\n                },$controllerProvider)\r\n            }\r\n        }).when(\"/grab/order\",{\r\n            templateUrl:\"graborder.html\",\r\n            controller:\"grabOrderCtrl\",\r\n            resolve:{\r\n                askDoctor:loadController({\r\n                    url:\"../javascripts/dest/controller/grabOrder.js\",\r\n                    name:\"grabOrderCtrl\",\r\n                    inject:[\"$scope\",\"$rootScope\",\"Tool\",\"Ajax\"],\r\n                },$controllerProvider)\r\n            }\r\n        }).when(\"/login\",{\r\n            templateUrl:\"login.html\",\r\n            controller:\"loginCtrl\",\r\n            resolve:{\r\n                askDoctor:loadController({\r\n                    url:\"../javascripts/dest/controller/login.js\",\r\n                    name:\"loginCtrl\",\r\n                    inject:[\"$scope\",\"$rootScope\",\"$location\",\"Ajax\",\"Tool\"],\r\n                },$controllerProvider)\r\n            }\r\n        }).when(\"/makeorder\",{\r\n            templateUrl:\"makeorder.html\",\r\n            controller:\"makeOrderCtrl\",\r\n            resolve:{\r\n                askDoctor:loadController({\r\n                    url:\"../javascripts/dest/controller/makeorder.js\",\r\n                    name:\"makeOrderCtrl\",\r\n                    inject:[\"$scope\",\"$rootScope\",\"Tool\",\"Ajax\"],\r\n                },$controllerProvider)\r\n            }\r\n        }).when(\"/news\",{\r\n            templateUrl:\"news.html\",\r\n            controller:\"newsCtrl\",\r\n            resolve:{\r\n                askDoctor:loadController({\r\n                    url:\"../javascripts/dest/controller/news.js\",\r\n                    name:\"newsCtrl\",\r\n                    inject:[\"$scope\",\"$rootScope\",\"$location\",\"Tool\",\"Ajax\"],\r\n                },$controllerProvider)\r\n            }\r\n        }).when(\"/news/detail\",{\r\n            templateUrl:\"newsdetail.html\",\r\n            controller:\"newsCtrl\",\r\n            resolve:{\r\n                askDoctor:loadController({\r\n                    url:\"../javascripts/dest/controller/news.js\",\r\n                    name:\"newsCtrl\",\r\n                    inject:[\"$scope\",\"$rootScope\",\"$location\",\"Tool\",\"Ajax\"],\r\n                },$controllerProvider)\r\n            }\r\n        }).when(\"/order\",{\r\n            templateUrl:\"order.html\",\r\n            controller:\"orderCtrl\",\r\n            resolve:{\r\n                askDoctor:loadController({\r\n                    url:\"../javascripts/dest/controller/order.js\",\r\n                    name:\"orderCtrl\",\r\n                    inject:[\"$scope\",\"$rootScope\",\"$location\",\"Ajax\",\"Tool\"],\r\n                },$controllerProvider)\r\n            }\r\n        }).when(\"/pay\",{\r\n            templateUrl:\"pay.html\",\r\n            controller:\"payCtrl\",\r\n            resolve:{\r\n                askDoctor:loadController({\r\n                    url:\"../javascripts/dest/controller/pay.js\",\r\n                    name:\"payCtrl\",\r\n                    inject:[\"$scope\",\"$rootScope\",\"$location\",\"Tool\",\"Weixin\"],\r\n                },$controllerProvider)\r\n            }\r\n        }).when(\"/pay/result\",{\r\n            templateUrl:\"payresult.html\",\r\n            controller:\"payResultCtrl\",\r\n            resolve:{\r\n                askDoctor:loadController({\r\n                    url:\"../javascripts/dest/controller/payResult.js\",\r\n                    name:\"payResultCtrl\",\r\n                    inject:[\"$scope\",\"$rootScope\",\"$location\",\"Tool\"],\r\n                },$controllerProvider)\r\n            }\r\n        }).when(\"/register\",{\r\n            templateUrl:\"register.html\",\r\n            controller:\"registerCtrl\",\r\n            resolve:{\r\n                askDoctor:loadController({\r\n                    url:\"../javascripts/dest/controller/register.js\",\r\n                    name:\"registerCtrl\",\r\n                    inject:[\"$scope\",\"$rootScope\",\"$location\",\"$interval\",\"Tool\",\"Ajax\"],\r\n                },$controllerProvider)\r\n            }\r\n        }).when(\"/agreement\",{\r\n            templateUrl:\"agreement.html\",\r\n        }).when(\"/write\",{\r\n            templateUrl:\"write.html\",\r\n            controller:\"writeCtrl\",\r\n            resolve:{\r\n                askDoctor:loadController({\r\n                    url:\"../javascripts/dest/controller/write.js\",\r\n                    name:\"writeCtrl\",\r\n                    inject:[\"$scope\",\"$rootScope\",\"$http\",\"Tool\",\"Ajax\"],\r\n                },$controllerProvider)\r\n            }\r\n        }).when(\"/write/say\",{\r\n            templateUrl:\"writesay.html\",\r\n            controller:\"writeCtrl\",\r\n            resolve:{\r\n                askDoctor:loadController({\r\n                    url:\"../javascripts/dest/controller/write.js\",\r\n                    name:\"writeCtrl\",\r\n                    inject:[\"$scope\",\"$rootScope\",\"$http\",\"Tool\",\"Ajax\"],\r\n                },$controllerProvider)\r\n            }\r\n        }).when(\"/write/note\",{\r\n            templateUrl:\"writenote.html\",\r\n            controller:\"writeCtrl\",\r\n            resolve:{\r\n                askDoctor:loadController({\r\n                    url:\"../javascripts/dest/controller/write.js\",\r\n                    name:\"writeCtrl\",\r\n                    inject:[\"$scope\",\"$rootScope\",\"$http\",\"Tool\",\"Ajax\"],\r\n                },$controllerProvider)\r\n            }\r\n        }).when(\"/user/mypost\",{\r\n            templateUrl:\"mypost.html\",\r\n            controller:\"myPostCtrl\",\r\n            resolve:{\r\n                askDoctor:loadController({\r\n                    url:\"../javascripts/dest/controller/myPost.js\",\r\n                    name:\"myPostCtrl\",\r\n                    inject:[\"$scope\",\"$rootScope\",\"$location\",\"Ajax\",\"Tool\"],\r\n                },$controllerProvider)\r\n            }\r\n        }).when(\"/user/mymessage\",{\r\n            templateUrl:\"mymessage.html\",\r\n            controller:\"myMessageCtrl\",\r\n            resolve:{\r\n                askDoctor:loadController({\r\n                    url:\"../javascripts/dest/controller/myMessage.js\",\r\n                    name:\"myMessageCtrl\",\r\n                    inject:[\"$scope\",\"$rootScope\",\"$location\",\"Tool\",\"Ajax\"],\r\n                },$controllerProvider)\r\n            }\r\n        }).when(\"/user/myfollow\",{\r\n            templateUrl:\"myfollow.html\",\r\n            controller:\"myFollowCtrl\",\r\n            resolve:{\r\n                askDoctor:loadController({\r\n                    url:\"../javascripts/dest/controller/myFollow.js\",\r\n                    name:\"myFollowCtrl\",\r\n                    inject:[\"$scope\",\"$rootScope\",\"$location\",\"Tool\",\"Ajax\"],\r\n                },$controllerProvider)\r\n            }\r\n        }).when(\"/exam\",{\r\n            templateUrl:\"exam.html\",\r\n            controller:\"examCtrl\",\r\n            resolve:{\r\n                askDoctor:loadController({\r\n                    url:\"../javascripts/dest/controller/exam.js\",\r\n                    name:\"examCtrl\",\r\n                    inject:[\"$scope\",\"$rootScope\",\"$location\",\"Tool\",\"Ajax\"],\r\n                },$controllerProvider)\r\n            }\r\n        }).when(\"/invite/new\",{\r\n            templateUrl:\"invitenew.html\",\r\n            controller:\"inviteCtrl\",\r\n            resolve:{\r\n                askDoctor:loadController({\r\n                    url:\"../javascripts/dest/controller/invite.js\",\r\n                    name:\"inviteCtrl\",\r\n                    inject:[\"$scope\",\"$rootScope\",\"$location\",\"Tool\",\"Ajax\",\"Weixin\"],\r\n                },$controllerProvider)\r\n            }\r\n        }).when(\"/invite/register\",{\r\n            templateUrl:\"inviteregister.html\",\r\n            controller:\"inviteCtrl\",\r\n            resolve:{\r\n                askDoctor:loadController({\r\n                    url:\"../javascripts/dest/controller/invite.js\",\r\n                    name:\"inviteCtrl\",\r\n                    inject:[\"$scope\",\"$rootScope\",\"$location\",\"Tool\",\"Ajax\",\"Weixin\"],\r\n                },$controllerProvider)\r\n            }\r\n        }).when(\"/invite/notes\",{\r\n            templateUrl:\"invitenotes.html\",\r\n            controller:\"inviteNotesCtrl\",\r\n            resolve:{\r\n                askDoctor:loadController({\r\n                    url:\"../javascripts/dest/controller/inviteNotes.js\",\r\n                    name:\"inviteNotesCtrl\",\r\n                    inject:[\"$scope\",\"$rootScope\",\"Tool\",\"Ajax\"],\r\n                },$controllerProvider)\r\n            }\r\n        }).when(\"/user/paymoney\",{\r\n            templateUrl:\"paymoney.html\",\r\n            controller:\"payMoneyCtrl\",\r\n            resolve:{\r\n                askDoctor:loadController({\r\n                    url:\"../javascripts/dest/controller/payMoney.js\",\r\n                    name:\"payMoneyCtrl\",\r\n                    inject:[\"$scope\",\"$rootScope\",\"Tool\",\"Ajax\"],\r\n                },$controllerProvider)\r\n            }\r\n        })\r\n        .otherwise({redirectTo:\"/home\"})\r\n    }])\r\n\r\n    //将require的控制器注册到Module中\r\n    function loadController(obj,$controllerProvider){\r\n        return function($q){\r\n            var deferred = $q.defer();\r\n            require([obj.url],function(controller){\r\n                controller.$inject = obj.inject;\r\n                $controllerProvider.register(obj.name,controller);\r\n                deferred.resolve();\r\n            })\r\n            return deferred.promise;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 指令区域\r\n     */\r\n\r\n    // 图片加载失败后，使用设置的图片\r\n    app.directive('fallbackSrc', function () {\r\n        var fallbackSrc = {\r\n            link: function postLink(scope, iElement, iAttrs) {\r\n            iElement.bind('error', function() {\r\n                angular.element(this).attr(\"src\", iAttrs.fallbackSrc);\r\n            });\r\n            }\r\n        }\r\n        return fallbackSrc;\r\n    });\r\n\r\n    // 项目图片加载失败后，使用默认图片\r\n    app.directive(\"productError\",function(){\r\n        return {\r\n            restrict:\"A\",\r\n            link:function(scope,iElement,iAttrs){\r\n                iElement.bind(\"error\",function(){\r\n                    angular.element(this).attr(\"src\",\"../contents/img/p_default.png\");\r\n                })\r\n            }\r\n        }\r\n    })\r\n\r\n    // 医生图片加载失败后，使用默认图片\r\n    app.directive(\"doctorError\",function(){\r\n        return {\r\n            restrict:\"A\",\r\n            link:function(scope,iElement,iAttrs){\r\n                iElement.bind(\"error\",function(){\r\n                    angular.element(this).attr(\"src\",\"../contents/img/doc-head.png\");\r\n                })\r\n            }\r\n        }\r\n    })\r\n\r\n    // 用户头像加载失败后，使用默认图片\r\n    app.directive(\"userError\",function(){\r\n        return {\r\n            restrict:\"A\",\r\n            link:function($scope,iElement,iAttrs){\r\n                iElement.bind(\"error\",function(){\r\n                    var imgUrl = \"../contents/img/men-head.png\";\r\n                    if(iAttrs.userError){\r\n                        if(iAttrs.userError===\"女\"){\r\n                            imgUrl = \"../contents/img/women-head.png\"\r\n                        }\r\n                    }\r\n                    angular.element(this).attr(\"src\",imgUrl);\r\n                })\r\n            }\r\n        }\r\n    })\r\n\r\n    //自适应宽度的正方形\r\n    app.directive(\"zoomImage\",function(){\r\n        return {\r\n            restrict:\"A\",\r\n            link:function($scope,iElement,iAttrs){\r\n                var containSize = iElement.css(\"width\").slice(0,-2);\r\n                iElement.css(\"height\",containSize);\r\n                var children = iElement.children();\r\n                children.bind(\"load\",function(){\r\n                    var width = children.css(\"width\").slice(0,-2);\r\n                    var height = children.css(\"height\").slice(0,-2);\r\n                    if(width>height){\r\n                        var zWidth = (containSize/height)*width;\r\n                        var zHeight = containSize;\r\n                        children.css(\"marginLeft\",-(zWidth-containSize)/2);\r\n                    }else{\r\n                        var zHeight = (containSize/width)*height;\r\n                        var zWidth = containSize;\r\n                        children.css(\"marginTop\",-(zHeight-containSize)/2);\r\n                    }\r\n                    children.css(\"width\",zWidth);\r\n                    children.css(\"height\",zHeight);\r\n                })\r\n            }\r\n        }\r\n    })\r\n\r\n    /**\r\n     * 过滤器部分\r\n     */\r\n\r\n    // 设置默认的头像\r\n    app.filter(\"defaultHeadImg\",function(){\r\n        return function(input,sex){\r\n            if(input===null||input===\"\"){\r\n                if(sex===\"男\"||sex===null||sex===\"\"||sex===undefined){\r\n                    input = \"../contents/img/men-head.png\";\r\n                }else{\r\n                    input = \"../contents/img/women-head.png\";\r\n                }\r\n            }\r\n            return input;\r\n        }\r\n    })\r\n    \r\n    // 设置默认图片\r\n    app.filter(\"defaultImg\",function(){\r\n        return function(input,type){\r\n            if(input==null||input==\"\"){\r\n                if(type===\"doc\"){\r\n                    input = \"../contents/img/doc-head.png\";\r\n                }\r\n                if(type===\"pro\"){\r\n                    input = \"../contents/img/p_default.png\"\r\n                }\r\n            }\r\n            return input;\r\n        }\r\n    })\r\n\r\n    /**\r\n     * 服务部分\r\n     */\r\n\r\n     // 数据访问服务\r\n    app.service(\"Ajax\",[\"$rootScope\",\"$http\",\"$q\",\"Tool\",function($rootScope,$http,$q,Tool){\r\n        //使用promise封装ajax\r\n        this.get = function (obj) {\r\n                if (obj.url) {\r\n                    $rootScope.loading = true;\r\n                    var defered = $q.defer();\r\n                    $http.get(obj.url,{\r\n                        headers:obj.headers,\r\n                    }).success(function (data) {\r\n                        return defered.resolve(data);\r\n                    }).error(function (data) {\r\n                        return defered.reject(data);\r\n                    });\r\n                    return defered.promise;\r\n                }\r\n            };\r\n        this.post = function (obj) {\r\n            if (obj.url) {\r\n                var defered = $q.defer();\r\n                if(obj.headers) {\r\n                    if(!obj.headers[\"Content-type\"]){\r\n                        obj.headers[\"Content-type\"] = 'application/x-www-form-urlencoded;charset=UTF-8';\r\n                    }\r\n                }else{\r\n                    obj.headers = {\r\n                        'Content-type': 'application/x-www-form-urlencoded;charset=UTF-8',\r\n                    };\r\n                }\r\n                $rootScope.loading = true;\r\n                //将参数对象转换成参数字符串\r\n                obj.params = Tool.convertParams(obj.params);\r\n                $http.post(obj.url, obj.params, {\r\n                    headers: obj.headers\r\n                }).success(function (data) {\r\n                    defered.resolve(data);\r\n                }).error(function (data) {\r\n                    defered.reject(data);\r\n                });\r\n                return defered.promise;\r\n            }\r\n        };\r\n    }]);\r\n\r\n    // 工具服务\r\n    app.service(\"Tool\",[\"$rootScope\",\"$location\",function($rootScope,$location){\r\n        \r\n        //变量\r\n        //this.host = \"http://192.168.0.102:3000\";\r\n        //this.host = \"https://192.168.0.222:8555/www\"\r\n        this.host = \"https://www.uokang.com\";\r\n        this.userInfo = {};\r\n\r\n        /*\r\n        ** 操作localStorage和sessionStorage\r\n        */\r\n        this.getLocal = function(key){\r\n            return JSON.parse(localStorage.getItem(key));\r\n        };\r\n        this.setLocal = function(key,value){\r\n            localStorage.setItem(key,JSON.stringify(value));\r\n        };\r\n        this.removeLocal = function(key){\r\n            localStorage.removeItem(key);\r\n        };\r\n        this.clearLocal = function(){\r\n            localStorage.clear();\r\n        }\r\n        this.getSession = function(key){\r\n            return JSON.parse(sessionStorage.getItem(key));\r\n        }\r\n        this.setSession = function(key,value){\r\n            sessionStorage.setItem(key,JSON.stringify(value));\r\n        }\r\n        this.removeSession = function(key){\r\n            sessionStorage.removeItem(key);\r\n        }\r\n        //跳转到指定url\r\n        this.goUrl = function(url){\r\n            if(url.length>0){\r\n                location.href = url;\r\n            }\r\n        }\r\n\r\n        //改变路由\r\n        this.changeRoute = function(path,search){\r\n            $location.path(path);\r\n            if(search){\r\n                $location.search(search);\r\n            }else{\r\n                $location.search(\"\");\r\n            }\r\n        }\r\n\r\n        //判断是否登录\r\n        this.checkLogin = function(){\r\n            if(this.getLocal(\"user\")){\r\n                return true;\r\n            }else{\r\n                return false;\r\n            }\r\n        }\r\n\r\n        //判断是否完成用户信息\r\n        this.isUserInfoComplete = function(){\r\n            var userInfo = this.getLocal(\"user\");\r\n            if(userInfo.realname==\"\"||userInfo.realname==null||userInfo.sex==\"\"||userInfo.sex==null||userInfo.age==\"\"||userInfo.age==null||userInfo.phone==\"\"||userInfo.phone==null){\r\n                return false;\r\n            }else{\r\n                return true;\r\n            }\r\n        }\r\n        this.select = function(params,obj){\r\n            for(var proto in obj){\r\n                if(proto==params){\r\n                    if(!obj[params].has){\r\n                        obj[params].has = true;\r\n                    }\r\n                }else{\r\n                    if(obj[proto].has){\r\n                        obj[proto].has = false;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        //确认按钮的提示框\r\n        this.alert = function(mess,callback){\r\n            $rootScope.message = mess;\r\n            $rootScope.hasCancel = false;\r\n            $rootScope.hasComfirm = true;\r\n            $rootScope.hasTip = true;\r\n            if(callback){\r\n                $rootScope.comfirm = callback;\r\n            }else{\r\n                $rootScope.comfirm = function(){\r\n                    $rootScope.hasTip = false;\r\n                }\r\n            }\r\n        }\r\n\r\n        //确认和取消按钮的提示框\r\n        this.comfirm = function(mess,callback){\r\n            $rootScope.message = mess;\r\n            $rootScope.hasCancel = true;\r\n            $rootScope.hasComfirm = true;\r\n            $rootScope.hasTip = true;\r\n            $rootScope.cancel = function(){\r\n                $rootScope.hasTip = false;\r\n            }\r\n            $rootScope.comfirm = callback;\r\n        }\r\n\r\n        //获取用户信息\r\n        this.loadUserinfo = function(){\r\n            this.userInfo = this.getLocal(\"user\");\r\n        }\r\n\r\n        //将对象转换成查询字符串\r\n        this.convertParams = function(obj){\r\n            var params = \"\";\r\n            for(var property in obj){\r\n                if(obj[property]!=null){\r\n                    params += property+\"=\"+obj[property]+\"&\";\r\n                }\r\n            }\r\n            //截取掉最后一个\"&\"\r\n            params = params.slice(0,params.length-1);\r\n            return params;\r\n        }\r\n\r\n        //不监听window滚动\r\n        this.noWindowListen = function(){\r\n            window.onscroll = null;\r\n        }\r\n\r\n        this.getQueryString = function(name){\r\n            var reg = new RegExp('(^|&)' + name + '=([^&]*)(&|$)', 'i');\r\n            var r = window.location.search.substr(1).match(reg);\r\n            if (r != null) {\r\n                return unescape(r[2]);\r\n            }\r\n            return null;\r\n        }\r\n    }])\r\n\r\n    // 微信服务\r\n    app.service(\"Weixin\",[\"$rootScope\",\"Ajax\",\"Tool\",function($rootScope,Ajax,Tool){\r\n        //初始化完成后，检查客户端版本 --first--\r\n        this.wxInit = function($scope,callback){\r\n            //wx初始化后检查客户端\r\n            wx.ready(function(){\r\n                wx.checkJsApi({\r\n                    //需要检测的JS接口列表\r\n                    jsApiList: ['getLocation','chooseWXPay','onMenuShareTimeline','onMenuShareAppMessage','onMenuShareQQ','onMenuShareQZone','onMenuShareWeibo'],\r\n                    success: function(result) {\r\n                        //以键值对的形式返回，可用的api值true，不可用为false\r\n                        if(!result.checkResult.getLocation||!result.checkResult.chooseWXPay){\r\n                            Tool.alert(\"客户端版本过低，请微信升级客户端!\");\r\n                        }\r\n                    }\r\n                })\r\n                if(callback){\r\n                    wx.getLocation({\r\n                        type:\"wgs84\",\r\n                        success:function(res){\r\n                            var locationInfo = {\r\n                                latitude:res.latitude, //维度\r\n                                longitude:res.longitude //经度\r\n                            }\r\n                            Tool.setSession(\"locationInfo\",locationInfo);\r\n                            callback(locationInfo.latitude,locationInfo.longitude);\r\n                        },\r\n                        fail:function(){\r\n                            $scope.locationInfo = \"定位失败\";\r\n                        }\r\n                    });\r\n                }\r\n            })\r\n        }\r\n\r\n        //初始化wx对象 --second--\r\n        this.wxConfig = function(scope){\r\n            var params = {\r\n                debug:false,\r\n                appId : \"\",\r\n                timestamp : \"\",\r\n                nonceStr : \"\",\r\n                signature : \"\",\r\n                jsApiList : ['getLocation','chooseWXPay','onMenuShareTimeline','onMenuShareAppMessage','onMenuShareQQ','onMenuShareQZone','onMenuShareWeibo'],\r\n            };\r\n            Ajax.post({\r\n                url:Tool.host+\"/weixin/check/getjsconfig\",\r\n                params: {url:encodeURIComponent(location.href)},\r\n            }).then(function(data){\r\n                params.appId = data.appId;\r\n                params.timestamp = data.timestamp;\r\n                params.nonceStr = data.nonceStr;\r\n                params.signature = data.signature;\r\n                wx.config(params);\r\n            }).catch(function(){\r\n                Tool.alert(\"初始化WX对象失败，请稍后再试！\");\r\n            }).finally(function(){\r\n                $rootScope.loading =false;\r\n            })\r\n        }\r\n\r\n        //自定义分享内容,可分享至微信好友，微信朋友圈，qq好友，qq空间，腾讯微博\r\n        this.wxShare = function(obj){\r\n            /**\r\n             * title:分享标题, desc:分享描述, link:分享链接, imgUrl:分享图标, type：分享类型，默认为link， dataUrl：分享数据的连接\r\n             */\r\n            wx.onMenuShareTimeline({\r\n                title: obj.title,\r\n                link: obj.link,\r\n                imgUrl: obj.imgUrl,\r\n                success: obj.success,\r\n                cancel: obj.cancel,\r\n            });\r\n            wx.onMenuShareAppMessage({\r\n                title: obj.title,\r\n                desc: obj.desc,\r\n                link: obj.link,\r\n                imgUrl: obj.imgUrl,\r\n                type: obj.type,\r\n                dataUrl: obj.dataUrl,\r\n                success:obj.success,\r\n                cancel: obj.cancel\r\n            });\r\n            wx.onMenuShareQQ({\r\n                title: obj.title,\r\n                desc: obj.desc,\r\n                link: obj.link,\r\n                imgUrl: obj.imgUrl,\r\n                success:obj.success,\r\n                cancel:obj.cancel\r\n            });\r\n            wx.onMenuShareQZone({\r\n                title: obj.title,\r\n                desc: obj.desc,\r\n                link: obj.link,\r\n                imgUrl: obj.imgUrl,\r\n                success: obj.success,\r\n                cancel:obj.cancel,\r\n            });\r\n            wx.onMenuShareWeibo({\r\n                title: obj.title,\r\n                desc: obj.desc,\r\n                link: obj.link,\r\n                imgUrl: obj.imgUrl,\r\n                success: obj.success,\r\n                cancel: obj.cancel,\r\n            });\r\n        }\r\n\r\n        //检查微信支付的参数是否完整\r\n        this.wxCheckPayParams = function(params){\r\n            if(params.timestamp==\"\"||params.timestamp==null||params.nonceStr==\"\"||params.nonceStr==null||params.package==\"\"||params.package==null||params.signType==\"\"||params.signType==null||params.paySign==\"\"||params.paySign==null){\r\n                return false;\r\n            }else{\r\n                return true;\r\n            }\r\n        }\r\n\r\n        //获取支付参数，并发起支付\r\n        this.wxPay = function(orderId,code){\r\n            var params = {\r\n                timestamp: \"\",\r\n                nonceStr: '',\r\n                package: '',\r\n                signType: '',\r\n                paySign: '',\r\n                success:function() {\r\n                    window.location.href = \"https://www.uokang.com/v2/htmls/index.html#/pay/result?payResult=success\";\r\n                },\r\n                cancel:function(){\r\n                    window.location.href = \"https://www.uokang.com/v2/htmls/index.html#/pay/result?payResult=fail\";\r\n                },\r\n                fail:function(){\r\n                    window.location.href = \"https://www.uokang.com/v2/htmls/index.html#/pay/result?payResult=fail\";\r\n                }\r\n            };\r\n            if(orderId!=\"\"&orderId!=null){\r\n                var url = Tool.host+\"/wx/order/weixin\";\r\n                var params = {payType:\"JSAPI\",orderId:orderId,\"code\":code};\r\n                Ajax.post({\r\n                    url:url,\r\n                    params:params,\r\n                    headers:{\r\n                        'accessToken':Tool.getLocal(\"user\").accessToken,\r\n                    }\r\n                }).then(function(data){\r\n                    params.timestamp = data.data.timeStamp;\r\n                    params.nonceStr = data.data.nonceStr;\r\n                    params.package = data.data.package;\r\n                    params.signType = \"MD5\";\r\n                    params.paySign = data.data.sign;\r\n                    if(params.timestamp==\"\"||params.timestamp==null||params.nonceStr==\"\"||params.nonceStr==null||params.package==\"\"||params.package==null||params.signType==\"\"||params.signType==null||params.paySign==\"\"||params.paySign==null){\r\n                        Tool.alert(\"请求支付参数失败，请稍后再试!\");\r\n                    }else{\r\n                        wx.chooseWXPay(params);\r\n                    }\r\n                }).catch(function(){\r\n                    Tool.alert(\"请求支付参数失败，请稍后再试!\");\r\n                }).finally(function(){\r\n                    $rootScope.loading = false;\r\n                })\r\n            }\r\n        }\r\n    }])\r\n\r\n    // 存储菜单变量\r\n    app.service(\"Params\",function(){\r\n        this.defaultParams = {\r\n            default:{has:true,id:\"\"}\r\n        }\r\n        this.areaParams = {\r\n            default:{has:true,val:\"\"},\r\n            futian:{has:false,val:\"福田区\"},\r\n            nanshan:{has:false,val:\"南山区\"},\r\n            luohu:{has:false,val:\"罗湖区\"},\r\n            baoan:{has:false,val:\"宝安区\"},\r\n            longhua:{has:false,val:\"龙华新区\"},\r\n            longgang:{has:false,val:\"龙岗区\"},\r\n            yantian:{has:false,val:\"盐田区\"},\r\n        }\r\n        this.yakeParams = {\r\n            all:{has:true,id:\"\"},\r\n            zzy:{has:false,id:19},\r\n            xiya:{has:false,id:20},\r\n            kcy:{has:false,id:82},\r\n            buya:{has:false,id:22},\r\n            baya:{has:false,id:23},\r\n            ycmr:{has:false,id:24},\r\n            jiaozheng:{has:false,id:64},\r\n            yichi:{has:false,id:65},\r\n            yzzl:{has:false,id:63},\r\n            qita:{has:false,id:60},\r\n        };\r\n        this.meirongParams = {\r\n            all:{has:true,id:\"\"},\r\n            yanbu:{has:false,id:7},\r\n            mianbu:{has:false,id:8},\r\n            bibu:{has:false,id:9},\r\n            xiong:{has:false,id:45},\r\n            xizhi:{has:false,id:12},\r\n            simi:{has:false,id:78},\r\n            zhushe:{has:false,id:79},\r\n            jiguang:{has:false,id:80},\r\n            koucun:{has:false,id:81},\r\n            qita:{has:false,id:13},\r\n        };\r\n        this.fckParams = {\r\n            all:{has:true,id:\"\"},\r\n            jiancha:{has:false,id:48},\r\n            fenmian:{has:false,id:49}\r\n        };\r\n        this.zhongyiParams = {\r\n            all:{has:true,id:\"\"},\r\n            toubu:{has:false,id:51},\r\n            jianjing:{has:false,id:52},\r\n            yaobu:{has:false,id:53},\r\n            tuibu:{has:false,id:54},\r\n            quanshen:{has:false,id:55},\r\n            jingluo:{has:false,id:56},\r\n            qita:{has:false,id:57}\r\n        }\r\n        this.tijianParams = {\r\n            default:{has:true,val:\"\"},\r\n            shangye:{has:false,val:75},\r\n            changgui:{has:false,val:67},\r\n            zhongnian:{has:false,val:69},\r\n            laonian:{has:false,val:70},\r\n            ruzhi:{has:false,val:71},\r\n            yunqian:{has:false,val:72},\r\n            qingnian:{has:false,val:68},\r\n            ertong:{has:false,val:74},\r\n            manbing:{has:false,val:73},\r\n        }\r\n        this.professionalParams = {\r\n            default:{has:true,val:this.defaultParams,proId:\"\"},\r\n            yake:{has:false,val:this.yakeParams,proId:\"2\"},\r\n            meirong:{has:false,val:this.meirongParams,proId:\"3\"},\r\n            fck:{has:false,val:this.fckParams,proId:\"4\"},\r\n            zhongyi:{has:false,val:this.zhongyiParams,proId:\"6\"},\r\n            tijian:{has:false,val:this.tijianParams,proId:\"5\"}\r\n        }\r\n    })\r\n\r\n    /**\r\n     * 打包主要控制器\r\n     */\r\n    app.controller(\"homeCtrl\",[\"$scope\",\"$rootScope\",\"$http\",\"Tool\",\"Ajax\",\"Weixin\",function($scope,$rootScope,$http,Tool,Ajax,Weixin){\r\n\t\t$scope.items = [];\r\n\t\t$scope.currentPage = 1;\r\n\t\t$scope.noProduct = false;\r\n\t\t$scope.noProductText = \"\";\r\n\t\t$scope.banners = [];\r\n\t\t//$scope.key = \"LFQBZ-7UNCX-VDR44-T34PN-OX2VQ-M2BNI\"; //个人私钥，后续可更换为企业密钥\r\n\t\t$scope.locationInfo =\"深圳市\"\r\n\t\t$scope.imgStyle = {\r\n\t\t\t\"width\":screen.width\r\n\t\t}\r\n\t\t$scope.gotoMenu = function(path){\r\n\t\t\tTool.goPage(path);\r\n\t\t}\r\n\r\n\t\t// 初始化页面\r\n\t\t$scope.init = function(){\r\n\t\t\t$rootScope.hasBgColor = false;\r\n\t\t\t$scope.loadRecommend();\r\n\t\t\t$scope.queryBanner();\r\n\t\t\t$scope.initSwiper();\r\n\t\t\tif(Tool.getSession(\"locationInfo\")){\r\n\t\t\t\t$scope.locationInfo = Tool.getSession(\"locationInfo\").city;\r\n\t\t\t}else{\r\n\t\t\t\tWeixin.wxInit($scope,$scope.getLocation);\r\n\t\t\t\tWeixin.wxConfig($scope);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// 逆地址服务暂不用 \r\n\t\t$scope.getLocation = function(latitude,longitude){\r\n\t\t\tvar url = \"https://apis.map.qq.com/ws/geocoder/v1/?output=jsonp&callback=JSON_CALLBACK&location=\"+latitude+\",\"+longitude+\"&key=\"+$scope.key;\r\n\t\t\t$http.jsonp(url).success(function(data){\r\n\t\t\t\tif(data.status==0){\r\n\t\t\t\t\t$scope.locationInfo = data.result.address_component.city;\r\n\t\t\t\t\tvar locationInfo = Tool.getSession(\"locationInfo\");\r\n\t\t\t\t\tlocationInfo.city = data.result.address_component.city;\r\n\t\t\t\t\tTool.setSession(\"locationInfo\",locationInfo);\r\n\t\t\t\t}else{\r\n\t\t\t\t\t$scope.locationInfo = \"定位失败\";\r\n\t\t\t\t}\r\n\t\t\t}).error(function(){\r\n\t\t\t\t$scope.locationInfo = \"定位失败\";\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\t// 滚动监听\r\n\t\twindow.onscroll = function(){\r\n\t\t\tif($scope.loading||$scope.noProduct){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvar body = document.body;\r\n\t\t\tvar html = document.documentElement;\r\n\t\t\tvar height = Math.max( body.scrollHeight, body.offsetHeight,html.clientHeight, html.scrollHeight, html.offsetHeight );\r\n\t\t\tif(height>window.innerHeight){\r\n\t\t\t\tif (height - window.scrollY - window.innerHeight < 100) {\r\n\t\t\t\t\t$scope.loadNext();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// 查询热门推荐\r\n\t\t$scope.loadRecommend = function(){\r\n            $rootScope.loading = true;\r\n\t\t\tvar url = Tool.host+\"/wx/product/queryrecommend\";\r\n\t\t\tvar params = \"city=深圳&currentPage=\"+$scope.currentPage;\r\n\t\t\t$http.post(url,params,{\r\n\t\t\t\theaders:{\r\n\t\t\t\t\t'Content-type':'application/x-www-form-urlencoded;charset=UTF-8',\r\n\t\t\t\t}\r\n\t\t\t}).success(function(data){\r\n\t\t\t\tif(data.code==0){\r\n\t\t\t\t\tif(data.data.length<1){\r\n\t\t\t\t\t\tif($scope.items.length<1){\r\n\t\t\t\t\t\t\t$scope.noProductText = \"暂时没有热门项目\";\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t$scope.noProductText = \"已经没有项目了!\";\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t$scope.noProduct = true;\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\t$scope.mergeProdcut(data.data);\r\n\t\t\t\t\t\t$scope.items = $scope.items.concat(data.data);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n                $rootScope.loading = false;\r\n\t\t\t}).error(function(){\r\n\t\t\t\tTool.alert(\"获取热门推荐数据失败，请稍后再试!\");\r\n\t\t\t\t$scope.noProduct = true;\r\n                $rootScope.loading = false;\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\t// 处理数据\r\n\t\t$scope.mergeProdcut = function(items){\r\n\t\t\titems.forEach(function(item){\r\n\t\t\t\tif(item.priceunit!=null&&item.priceunit!=\"\"){\r\n\t\t\t\t\titem.preferPriceType = item.pricetype+\"/\"+item.priceunit;\r\n\t\t\t\t}else{\r\n\t\t\t\t\titem.preferPriceType = item.pricetype;\r\n\t\t\t\t}\r\n\t\t\t\tif(item.samllimg==\"\"||item.samllimg==null){\r\n\t\t\t\t\titem.samllimg = \"../contents/img/p_default.png\";\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\t// 获取图片轮播\r\n\t\t$scope.queryBanner = function(){\r\n            $rootScope.loading = true;\r\n\t\t\tvar url = Tool.host+\"/wx/banner/query\";\r\n\t\t\tvar params = \"type=home_banner\";\r\n\t\t\t$http.post(url,params,{\r\n\t\t\t\theaders:{\r\n\t\t\t\t\t'Content-type':'application/x-www-form-urlencoded;charset=UTF-8',\r\n\t\t\t\t}\r\n\t\t\t}).success(function(data){\r\n\t\t\t\tif(data.code==0){\r\n\t\t\t\t\t$scope.banners = data.data;\r\n\t\t\t\t}\r\n                $rootScope.loading = false;\r\n\t\t\t}).error(function(){\r\n                $rootScope.loading = false;\r\n\t\t\t\tTool.alert(\"获取主页图片失败，请稍后再试!\");\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\t// 初始化图片轮播插件\r\n\t\t$scope.initSwiper = function(){\r\n\t\t\t//初始化swiper\r\n\t\t\tvar myswiper = new Swiper(\".swiper-container\",{\r\n\t\t\t\tloop:false,\r\n\t\t\t\tpagination: '.swiper-pagination',\r\n\t\t\t\tautoplay: 2000,\r\n\t\t\t\tautoplayDisableOnInteraction:false,\r\n\t\t\t\tobserveParents:true,  //\r\n\t\t\t\tobserver:true,\r\n\t\t\t\t//第一张轮播图显示6s,其他的2s\r\n\t\t\t\tonSlideChangeEnd: function(swiper){\r\n\t\t\t\t\tif(swiper.activeIndex==0||swiper.activeIndex==1){\r\n\t\t\t\t\t\tswiper.stopAutoplay();\r\n\t\t\t\t\t\tsetTimeout(function(){\r\n\t\t\t\t\t\t\tif(swiper.activeIndex==0||swiper.activeIndex==1){\r\n\t\t\t\t\t\t\t\tswiper.startAutoplay();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},4000)\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tswiper.startAutoplay();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\r\n\t\t}\r\n\r\n\t\t// 跳转到详细页面\r\n\t\t$scope.detail = function(productId,hospitalId,type){\r\n\t\t\tif(type===5){\r\n\t\t\t\tTool.changeRoute(\"/exam/detail\",\"productId=\"+productId+\"&hospitalId=\"+hospitalId);\r\n\t\t\t}else{\r\n\t\t\t\tTool.changeRoute(\"/product/detail\",\"flag=1&productId=\"+productId+\"&hospitalId=\"+hospitalId);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\r\n\t\t// 图片轮播跳转\r\n\t\t$scope.activity = function(id){\r\n            if(id===1){\r\n\t\t\t\tTool.changeRoute(\"/activity\",\"flag=2\");\r\n\t\t\t}\r\n\t\t\tif(id===2){\r\n\t\t\t\tTool.changeRoute(\"/invite/new\");\r\n\t\t\t}\r\n\t\t\tif(id===3){\r\n\t\t\t\tTool.changeRoute(\"/activity\",\"flag=1\");\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// 分页查询，查询下一页\r\n\t\t$scope.loadNext = function(){\r\n\t\t\t$scope.currentPage++;\r\n\t\t\t$scope.loadRecommend();\r\n\t\t}\r\n\t}])\r\n\r\n    app.controller(\"doctorCtrl\",[\"$scope\",\"$rootScope\",\"$http\",\"Tool\",\"Ajax\",\"Params\",function($scope,$rootScope,$http,Tool,Ajax,Params){\r\n        $scope.hasBg = false;\r\n        $scope.profValue = \"default\";\r\n        $scope.profItemValue = \"default\";\r\n        $scope.doctors = [];\r\n        $scope.noProduct = false;\r\n        $scope.noProductText = \"\";\r\n        // 下拉菜单项变量\r\n        $scope.orderParams ={\r\n            default:{has:true,val:\"\"},\r\n            title:{has:false,val:\"profession_title desc\"},\r\n            score:{has:false,val:\"score desc\"}\r\n        }\r\n        $scope.areaParams = Params.areaParams;\r\n        $scope.professionalParams = Params.professionalParams;\r\n\r\n        // 查询参数\r\n        $scope.queryParams = {\r\n            professionId:\"\",\r\n            itemid:\"\",\r\n            orderby:\"\",\r\n            city:\"深圳\",\r\n            area:\"\",\r\n            pageRows:10,\r\n            currentPage:1\r\n        }\r\n\r\n        // 导航栏变量，需定义在上述变量的后面\r\n        $scope.menuParams = {\r\n            area:{has:false,val:$scope.areaParams},\r\n            order:{has:false,val:$scope.orderParams},\r\n            professional:{has:false,val:$scope.professionalParams},\r\n        }\r\n\r\n        // 初始化页面\r\n        $scope.init = function(){\r\n            $rootScope.hasBgColor = true;\r\n            $scope.loadDoctor();\r\n        }\r\n\r\n        // 滚动监听\r\n        window.onscroll = function(){\r\n            if($rootScope.loading||$scope.noProduct){\r\n                return;\r\n            }\r\n            var body = document.body;\r\n            var html = document.documentElement;\r\n            var height = Math.max( body.scrollHeight, body.offsetHeight,html.clientHeight, html.scrollHeight, html.offsetHeight );\r\n            if(height>window.innerHeight){\r\n                if (height - window.scrollY - window.innerHeight < 100) {\r\n                    $scope.loadNext();\r\n                }\r\n            }\r\n        }\r\n\r\n        // 切换导航菜单\r\n        $scope.switchMenu = function(menu){\r\n            $scope.switchObj(menu,$scope.menuParams,true);\r\n        }\r\n\r\n        // 选择区域和排序项目\r\n        $scope.selectMenu = function(item,obj){\r\n            var ob = $scope.menuParams[obj].val;\r\n            $scope.switchObj(item,ob);\r\n            if(obj==\"area\"){\r\n                $scope.queryParams.area = ob[item].val;\r\n            }\r\n            if(obj==\"order\"){\r\n                $scope.queryParams.orderby = ob[item].val;\r\n            }\r\n            $scope.switchMenu(obj);\r\n            $scope.resetDate();\r\n            $scope.loadDoctor();\r\n        }\r\n\r\n        // 选择专科\r\n        $scope.selectProfression = function(item){\r\n            $scope.switchObj(item,$scope.professionalParams);\r\n        }\r\n\r\n        // 选择专科项目\r\n        $scope.selectProfressionItem = function(item,pro){\r\n            if(item!=$scope.profItemValue){\r\n                if($scope.profValue==\"\"&&$scope.profItemValue==\"\"){\r\n                    $scope.professionalParams[pro].val[item].has = true;\r\n                }else{\r\n                    $scope.professionalParams[$scope.profValue].val[$scope.profItemValue].has = false;\r\n                    $scope.professionalParams[pro].val[item].has = true;\r\n                }\r\n                $scope.profItemValue = item;\r\n                $scope.profValue = pro;\r\n                $scope.queryParams.professionId = $scope.professionalParams[pro].proId;\r\n                $scope.queryParams.itemid = $scope.professionalParams[pro].val[item].id;\r\n                $scope.switchMenu(\"professional\");\r\n                $scope.resetDate();\r\n                $scope.loadDoctor();\r\n\r\n            }\r\n        }\r\n\r\n        // 切换对象的值\r\n        $scope.switchObj = function(item,obj,hasBg){\r\n            for(var pro in obj){\r\n                if(pro==item){\r\n                    obj[pro].has = !obj[pro].has;\r\n                    if(hasBg){\r\n                        $scope.hasBg = obj[pro].has;\r\n                    }\r\n                }else{\r\n                    obj[pro].has = false;\r\n                }\r\n            }\r\n        }\r\n\r\n        // 加载医生数据\r\n        $scope.loadDoctor = function(){\r\n            Ajax.post({\r\n                url:Tool.host+\"/wx/doctor/querydoctorbycityandprofession\",\r\n                params:$scope.queryParams\r\n            }).then(function(data){\r\n                if(data.data.length<1){\r\n                    if($scope.doctors.length<1){\r\n                        $scope.noProductText = \"没有项目信息,请选择其他区域或者时间!\";\r\n                    }else{\r\n                        $scope.noProductText = \"已经没有项目了!\";\r\n                    }\r\n                    $scope.noProduct = true;\r\n                }else{\r\n                    $scope.mergeDoctor(data.data);\r\n                    $scope.doctors = $scope.doctors.concat(data.data);\r\n                }\r\n            }).catch(function(){\r\n                $scope.noProduct = true;\r\n                Tool.alert(\"数据加载失败，请稍后再试!\");\r\n            }).finally(function(){\r\n                $rootScope.loading =false;\r\n            })\r\n        }\r\n\r\n        // 处理医生数据\r\n        $scope.mergeDoctor = function(items){\r\n            items.forEach(function(item){\r\n                if(item.score==\"\"||item.score==null){\r\n                    item.score=\"暂无评\";\r\n                }\r\n                if(item.sales==\"\"||item.sales==null){\r\n                    item.sales=0;\r\n                }\r\n            })\r\n        }\r\n\r\n        // 加载下一页数据\r\n        $scope.loadNext = function(){\r\n            $scope.queryParams.currentPage++;\r\n            $scope.loadDoctor();\r\n        }\r\n\r\n        // 重置查询数据\r\n        $scope.resetDate = function(){\r\n            $scope.queryParams.currentPage = 1;\r\n            $scope.noProduct = false;\r\n            $scope.noProductText = \"\";\r\n            $scope.doctors = [];\r\n        }\r\n\r\n        // 跳转到详情页面\r\n        $scope.detail = function(id){\r\n            Tool.changeRoute(\"/doctor/detail\",\"id=\"+id);\r\n        }\r\n    }])\r\n\r\n    app.controller(\"interactionCtrl\",[\"$scope\",\"$rootScope\",\"$http\",\"Tool\",\"Ajax\",function($scope,$rootScope,$http,Tool,Ajax){\r\n        $scope.noProductText = \"\";\r\n        $scope.noProduct = false;\r\n        $scope.hasInteractionMenu = true;\r\n        $scope.queryParams = {\r\n            flag:1,\r\n            pageRows:10,\r\n            currentPage:1\r\n        }\r\n        $scope.navParams = {\r\n            kanya:{has:true,val:1},\r\n            shumei:{has:false,val:2},\r\n            yunsheng:{has:false,val:3}\r\n        }\r\n        $scope.posts = [];\r\n\r\n        //初始化页面\r\n        $scope.init = function(){\r\n            $rootScope.hasBgColor = false;\r\n            $scope.queryPost();\r\n        }\r\n\r\n        // 加载帖子数据\r\n        $scope.queryPost = function(){\r\n            Ajax.post({\r\n                url:Tool.host+\"/wx/post/postList\",\r\n                params:$scope.queryParams,\r\n            }).then(function(data){\r\n                if(data.data.length<1){\r\n                    if($scope.posts.length<1){\r\n                        $scope.noProductText = \"还没有帖子信息\";\r\n                    }else{\r\n                        $scope.noProductText = \"已经没有项目了!\";\r\n                    }\r\n                    $scope.noProduct = true;\r\n                }else{\r\n                    $scope.mergePost(data.data);\r\n                    $scope.posts = $scope.posts.concat(data.data);\r\n                }\r\n            }).catch(function(){\r\n                Tool.alert(\"获取帖子信息失败!\");\r\n            }).finally(function(){\r\n                $rootScope.loading = false;\r\n            })\r\n        }\r\n\r\n        // 处理帖子数据\r\n        $scope.mergePost = function(items){\r\n            items.forEach(function(item){\r\n                if(item.visitNum==null||item.visitNum==\"\"){\r\n                    item.visitNum=0;\r\n                }\r\n                if(item.commentNum==\"\"||item.commentNum==null){\r\n                    item.commentNum = 0;\r\n                }\r\n                if(item.faceImage!==null|item.faceImage!==\"\"){\r\n                    item.faceImage = \"https://biz.uokang.com/\"+item.faceImage;\r\n                }\r\n                for(var index in item.list2){\r\n                    if(item.list2[index]==\"\"||item.list2[index]==null){\r\n                        item.list2.splice(index,1);\r\n                    }\r\n                }\r\n            })\r\n        }\r\n\r\n        // 加载下一页数据\r\n        $scope.loadNext = function(){\r\n            $scope.queryParams.currentPage++;\r\n            $scope.queryPost();\r\n        }\r\n\r\n        // 滚动监听\r\n        window.onscroll = function(){\r\n            if($rootScope.loading||$scope.noProduct){\r\n                return;\r\n            }\r\n            var body = document.body;\r\n            var html = document.documentElement;\r\n            var height = Math.max( body.scrollHeight, body.offsetHeight,html.clientHeight, html.scrollHeight, html.offsetHeight );\r\n            if(height>window.innerHeight){\r\n                if (height - window.scrollY - window.innerHeight < 100) {\r\n                    $scope.loadNext();\r\n                }\r\n            }\r\n        }\r\n\r\n        // 切换帖子类型\r\n        $scope.switchNav = function(item){\r\n            $scope.queryParams.flag = $scope.navParams[item].val;\r\n            Tool.select(item,$scope.navParams);\r\n            $scope.queryParams.currentPage = 1;\r\n            $scope.noProduct = false;\r\n            $scope.noProductText = \"\";\r\n            $scope.posts = [];\r\n            $scope.queryPost();\r\n        }\r\n\r\n        // 跳转到详细页面\r\n        $scope.detail = function(id){\r\n            Tool.changeRoute(\"/interaction/detail\",\"id=\"+id);\r\n        }\r\n\r\n    }])\r\n\r\n    app.controller(\"userCtrl\",[\"$scope\",\"$rootScope\",\"$location\",\"Tool\",\"Ajax\",function($scope,$rootScope,$location,Tool,Ajax){\r\n        $scope.user = {};\r\n        $scope.isLogin = false;\r\n\r\n        //页面初始化\r\n        $scope.init = function(){\r\n            $rootScope.hasBgColor = true;\r\n            Tool.noWindowListen();\r\n            $scope.initText();\r\n            if(Tool.checkLogin()){\r\n                Tool.loadUserinfo();\r\n                $scope.queryFocus();\r\n            }\r\n        }\r\n\r\n        //切换用户名称的显示\r\n        $scope.initText = function(){\r\n            if(Tool.checkLogin()){\r\n                Tool.loadUserinfo();\r\n                $scope.user = Tool.userInfo;\r\n                $scope.isLogin = true;\r\n                if($scope.user.nickname===\"\"||$scope.user.nickname===null){\r\n                    $scope.user.nickname = \"您还没有填写昵称\";\r\n                }\r\n            }else{\r\n                $scope.user.face = \"../contents/img/men-head.png\";\r\n                $scope.user.tip = \"点击登录注册\";\r\n            }\r\n        }\r\n\r\n        // 未开放项目的提示\r\n        $scope.alert = function(mess){\r\n            Tool.alert(mess);\r\n        }\r\n\r\n        //获取关注数量和粉丝数量\r\n        $scope.queryFocus = function(){\r\n            Ajax.post({\r\n                url:Tool.host+\"/wx/focus/focusManCount\",\r\n                params: {\"accessToken\":Tool.userInfo.accessToken},\r\n            }).then(function(data){\r\n                 if(data.code==0){\r\n                    if(data.data.countFocusMan===null||data.data.countFocusMan===\"\"){\r\n                        data.data.countFocusMan = 0;\r\n                    }\r\n                    if(data.data.countFansMan===null||data.data.countFansMan ===\"\"){\r\n                        data.data.countFansMan =0;\r\n                    }\r\n                    $scope.countFocusMan = data.data.countFocusMan;\r\n                    $scope.countFansMan = data.data.countFansMan;\r\n                }\r\n            }).catch(function(){\r\n                $scope.countFocusMan = 0;\r\n                $scope.countFansMan = 0;\r\n                Tool.alert(\"获取粉丝信息失败!\");\r\n            }).finally(function(){\r\n\t\t\t\t$rootScope.loading = false;\r\n\t\t\t})\r\n        }\r\n        \r\n        //跳转到选项页面\r\n        $scope.goto = function(path,query){\r\n            if(Tool.checkLogin()){\r\n                Tool.changeRoute(path,query);\r\n            }else{\r\n                Tool.changeRoute(\"/login\",\"\");\r\n            }\r\n        };\r\n    }])\r\n\r\n    return app;\r\n})"],"sourceRoot":"/source/"}