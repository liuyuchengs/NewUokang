{"version":3,"sources":["payCtrl.js"],"names":["app","controller","$scope","$http","$location","Tool","Weixin","code","order","init","getParams","wxInit","wxConfig","getQueryString","getSession","pay","loading","wxPay","id"],"mappings":"AAAAA,IAAIC,WAAW,WAAW,SAAS,QAAQ,YAAY,OAAO,SAAS,SAASC,EAAOC,EAAMC,EAAUC,EAAKC,GAC3GJ,EAAOK,KAAK,KACZL,EAAOM,MAAQ,KAKfN,EAAOO,KAAO,WACbP,EAAOQ,YACPJ,EAAOK,OAAOT,GACdI,EAAOM,SAASV,IAOjBA,EAAOQ,UAAY,WACfL,EAAKQ,eAAe,UACtBX,EAAOK,KAAOF,EAAKQ,eAAe,SAEhCR,EAAKS,WAAW,WAClBZ,EAAOM,MAAQH,EAAKS,WAAW,WAOjCZ,EAAOa,IAAM,WACZb,EAAOc,SAAU,EACjBV,EAAOW,MAAMf,EAAOM,MAAMU,GAAGhB,EAAOK,KAAKL","file":"payCtrl.js","sourcesContent":["app.controller(\"payCtrl\",[\"$scope\",\"$http\",\"$location\",\"Tool\",\"Weixin\",function($scope,$http,$location,Tool,Weixin){\r\n\t$scope.code=null;\r\n\t$scope.order = null;\r\n\r\n\t/*\r\n\t** 初始化页面\r\n\t*/\r\n\t$scope.init = function(){\r\n\t\t$scope.getParams();\r\n\t\tWeixin.wxInit($scope);\r\n\t\tWeixin.wxConfig($scope);\r\n\t}\r\n\r\n\t/*\r\n\t** 获取code和订单信息\r\n\t** code:跳转页面返回\r\n\t*/\r\n\t$scope.getParams = function(){\r\n\t\tif(Tool.getQueryString(\"code\")){\r\n\t\t\t$scope.code = Tool.getQueryString(\"code\");\r\n\t\t}\r\n\t\tif(Tool.getSession(\"order\")){\r\n\t\t\t$scope.order = Tool.getSession(\"order\");\r\n\t\t}\r\n\t}\r\n\r\n\t/*\r\n\t** 发起请求支付\r\n\t*/\r\n\t$scope.pay = function(){\r\n\t\t$scope.loading = true;\r\n\t\tWeixin.wxPay($scope.order.id,$scope.code,$scope);\r\n\t}\r\n}])\r\n"],"sourceRoot":"/source/"}